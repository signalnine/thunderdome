bundle:
  name: behavior-agents
  version: 2.0.0
  description: |
    Agent orchestration capability with enhanced delegate tool.
    
    Features:
    - Two-parameter context inheritance (depth + scope)
    - Session resume (use full session_id from delegate calls)
    - Fixed tool inheritance (agent declarations honored)
    - Multi-agent collaboration patterns
    
    Note: This behavior uses the NEW delegate tool. For legacy task tool,
    use the 'tasks' behavior instead.

tools:
  # New delegate tool with enhanced features
  - module: tool-delegate
    source: git+https://github.com/microsoft/amplifier-foundation@main#subdirectory=modules/tool-delegate
    config:
      features:
        self_delegation:
          enabled: true
        session_resume:
          enabled: true
        context_inheritance:
          enabled: true
          max_turns: 10
        provider_selection:
          enabled: true
      settings:
        exclude_tools: [delegate]  # Spawned agents can't further delegate by default
        exclude_hooks: []

context:
  include:
    - foundation:context/agents/delegation-instructions.md
    - foundation:context/agents/multi-agent-patterns.md
