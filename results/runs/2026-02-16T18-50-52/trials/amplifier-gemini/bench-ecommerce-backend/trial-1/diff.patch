diff --git a/.amplifier-stdout.log b/.amplifier-stdout.log
new file mode 100644
index 0000000..fdfa5b2
--- /dev/null
+++ b/.amplifier-stdout.log
@@ -0,0 +1,690 @@
+Preparing bundle 'foundation'...
+Bundle 'foundation' prepared successfully
+
+Session ID: 97e5e03f-3d09-45ae-8af2-df9484029218
+Bundle: foundation | Provider: Google Gemini | gemini-3-pro-preview
+
+[90m============================================================[0m
+[90mThinking:[0m
+[90m------------------------------------------------------------[0m
+[2mMy Initial Thoughts on Building this Event-Driven E-commerce
+Backend                                                     
+
+Alright, so the task at hand is to construct an event-driven
+e-commerce backend with eight distinct services. TypeScript 
+is the language of choice, and I've got types.ts and bus.ts 
+to guide me. My initial thought is, this is a solid         
+architectural challenge, and I'm ready to dive in.          
+
+First things first: I need to familiarize myself with the   
+landscape. I'll begin by getting a lay of the land,         
+understanding the provided contracts within the types.ts and
+bus.ts files. It's crucial to grasp how these interfaces and
+the event bus function before I write a single line of      
+service code. A solid foundation is key. I'll use the todo  
+tool to formulate a clear plan, mapping out the steps       
+involved.                                                   
+
+Once I have a solid understanding of the types and bus      
+contracts, I will begin implementing the services. Given the
+eight services â€“ Catalog, Inventory, Cart, Pricing, Orders, 
+Payment, Notifications, and Analytics â€“ I think I'll        
+approach this either sequentially or by grouping logically  
+related services. My instincts say I'll start with the      
+Catalog and Inventory, as they are foundational to the rest 
+of the system. Then I'll tackle Cart and Pricing, as they   
+work closely together. Next, I'll build Orders and Payment  
+and finally move onto Notifications and Analytics.          
+
+I also need to remember to ensure that everything is        
+properly exported from the src/index.ts file, making sure   
+the project can be consumed easily. And, of course, the     
+suggestion of writing tests for each service to verify my   
+implementation is something I will keep in mind. I believe  
+that's a good approach to ensure the robustness and         
+correctness of the design.                                  
+
+Let's begin by exploring the codebase.[0m
+[90m============================================================[0m
+
+[2mâ”‚  ğŸ“Š Token Usage[0m
+[2mâ””â”€ Input: 34,088 | Output: 404 | Total: 34,492[0m
+
+[36mğŸ”§ Using tool: todo[0m
+   [2maction: create[0m
+   [2mtodos:[0m
+   [2m- content: Read src/types.ts and src/bus.ts to understand interfaces and event bus[0m
+   [2m  activeForm: Reading provided files[0m
+   [2m  status: pending[0m
+   [2m... (30 more lines)[0m
+[36mâœ… Tool result: todo[0m
+[2m   status: created
+   count: 11
+   todos:
+   - content: Read src/types.ts and src/bus.ts to understand interfaces and event bus
+     activeForm: Reading provided files
+   ... (31 more lines)[0m
+
+
+[2;37mâ”Œâ”€ Todo â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mRead src/types.ts and src/bus.ts to understand interfacâ€¦[0m [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Catalog Service in src/catalog/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Inventory Service in src/inventory/index.ts[0m    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Cart Service in src/cart/index.ts[0m              [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Pricing Service in src/pricing/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Orders Service in src/orders/index.ts[0m          [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Payment Service in src/payment/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Notifications Service in src/notifications/inâ€¦[0m [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Analytics Service in src/analytics/index.ts[0m    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mExport all services from src/index.ts[0m                    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mBuild and lint the project to ensure correctness[0m         [2;37mâ”‚[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ”‚[0m [32m[0m[2;37mâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[0m 0/11                              [2;37mâ”‚[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜[0m
+
+[36mğŸ”§ Using tool: read_file[0m
+   [2mfile_path: src/types.ts[0m
+[36mâœ… Tool result: read_file[0m
+[2m   file_path: /workspace/src/types.ts
+   content: |
+            1	// Order status state machine
+            2	export enum OrderStatus {
+            3	  PENDING = 'pending',
+   ... (98 more lines)[0m
+
+
+[36mğŸ”§ Using tool: read_file[0m
+   [2mfile_path: src/bus.ts[0m
+[36mâœ… Tool result: read_file[0m
+[2m   file_path: /workspace/src/bus.ts
+   content: |
+            1	type EventHandler = (payload: unknown) => void | Promise<void>;
+            2	
+            3	export class EventBus {
+   ... (36 more lines)[0m
+
+
+[90m============================================================[0m
+[90mThinking:[0m
+[90m------------------------------------------------------------[0m
+[2mCatalog Service Implementation - Let's Get Started          
+
+Okay, I've got the lay of the land. I've thoroughly reviewed
+src/types.ts and src/bus.ts, so I'm well-versed in the      
+interface definitions and requirements. I'm ready to start  
+building out these services, and the Catalog Service is up  
+first. I'll mark the reading task as complete.              
+
+First, I need to create the src/catalog/index.ts file, no   
+problem. I've got a clear understanding of what I need to   
+do: create, retrieve, list, search, update, and remove      
+products. I also need to emit that PRODUCT_CREATED event    
+when appropriate, which means I'll need the EventBus.       
+
+Importing is straightforward; I'll grab EventBus from ../bus
+and the necessary types from ../types. The instructions     
+explicitly state that services shouldn't import from each   
+other, but importing from the types and bus files is        
+perfectly acceptable to meet the interface requirements.    
+
+Now for the implementation. Given that there's no mention of
+a database, I'll go with an in-memory approach for          
+simplicity. Thinking about the operations defined in the    
+CatalogService interface, a Map keyed by productId with the 
+Product as the value seems like the most performant choice  
+for lookups, especially given the "get by ID" requirement.  
+The list and search operations will involve iterating, but  
+that's perfectly acceptable for this exercise. Performance  
+bottlenecks can be addressed later with indexing or         
+alternative data structures if necessary, but this is a good
+starting point.                                             
+
+Looking at the src/types.ts, the CatalogService interface is
+well-defined: methods for creating, retrieving, listing,    
+searching, updating, and removing products. The             
+ProductCreatedEvent type, along with the PRODUCT_CREATED    
+event constant, is clearly defined. I'll also be using      
+crypto.randomUUID() for generating product IDs. It's a      
+standard Node.js environment; I can assume crypto is        
+available. If for some reason it isn't, I can always        
+implement a simple UUID generation function or, at a pinch, 
+a simple auto-incrementing counter.                         
+
+And, of course, the src/catalog directory already exists, so
+I can start implementing the service immediately. Let's     
+start coding![0m
+[90m============================================================[0m
+
+[2mâ”‚  ğŸ“Š Token Usage[0m
+[2mâ””â”€ Input: 37,313 | Output: 853 | Total: 38,166[0m
+
+[36mğŸ”§ Using tool: todo[0m
+   [2mtodos:[0m
+   [2m- status: completed[0m
+   [2m  activeForm: Implementing Catalog Service[0m
+   [2m  content: Read src/types.ts and src/bus.ts to understand interfaces and event bus[0m
+   [2m- activeForm: Implementing Catalog Service[0m
+   [2m... (30 more lines)[0m
+[36mâœ… Tool result: todo[0m
+[2m   status: updated
+   count: 11
+   pending: 9
+   in_progress: 1
+   completed: 1[0m
+
+
+[2;37mâ”Œâ”€ Todo â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mRead src/types.ts and src/bus.ts to understand interfacâ€¦[0m [2;37mâ”‚[0m
+[2;37mâ”‚[0m [1;36mâ–¶[0m [1;36mImplementing Catalog Service[0m                             [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Inventory Service in src/inventory/index.ts[0m    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Cart Service in src/cart/index.ts[0m              [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Pricing Service in src/pricing/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Orders Service in src/orders/index.ts[0m          [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Payment Service in src/payment/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Notifications Service in src/notifications/inâ€¦[0m [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Analytics Service in src/analytics/index.ts[0m    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mExport all services from src/index.ts[0m                    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mBuild and lint the project to ensure correctness[0m         [2;37mâ”‚[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ”‚[0m [32mâ–ˆâ–ˆ[0m[2;37mâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[0m 1/11                              [2;37mâ”‚[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜[0m
+
+[36mğŸ”§ Using tool: write_file[0m
+   [2mcontent: |[0m
+   [2m    import { EventBus } from '../bus';[0m
+   [2m    import { CatalogService, Events, ProductCreatedEvent } from '../types';[0m
+   [2m    import * as crypto from 'crypto';[0m
+   [2m    [0m
+   [2m... (62 more lines)[0m
+[36mâœ… Tool result: write_file[0m
+[2m   file_path: /workspace/src/catalog/index.ts
+   bytes: 1751[0m
+
+
+[90m============================================================[0m
+[90mThinking:[0m
+[90m------------------------------------------------------------[0m
+[2mCatalog Service Implementation Review and Next Steps        
+
+Okay, so I've been asked to get the Catalog service         
+implemented, and I've got my initial src/catalog/index.ts   
+file. Let's make sure I'm on the right track. Looking at the
+src/types.ts interface, I think I'm mostly there.           
+
+The createProduct method correctly emits a PRODUCT_CREATED  
+event, which is what the instructions specified.  I did that
+right.  I'm using crypto.randomUUID() to generate the       
+productId, which should be fine given the Linux platform and
+the context of a backend "E-Commerce Backend" application,  
+even though the crypto import is missing in src/types.ts.   
+I'll probably note to add that.                             
+
+My updateProduct method looked okay, and the argument       
+matches the Partial<...> type, I just want to verify I      
+understood correctly that updateProduct does not need to    
+emit an event (unlike createProduct). I think I'm still okay
+there.                                                      
+
+The searchProducts logic seems sound for a basic search     
+using a case-insensitive match on the product name.  That   
+should be good enough for this implementation.              
+
+I also double-checked that createCatalogService functions as
+a factory function and correctly accepts an EventBus and    
+returns an object that fulfills the CatalogService          
+interface. Good.                                            
+
+Okay, I'm feeling confident about the Catalog service now.  
+Everything I see matches.                                   
+
+Time to move onto the Inventory service. I need to implement
+src/inventory/index.ts. Iâ€™ll look at what's in src/types.ts 
+for event payloads. From what I see in src/types.ts the     
+InventoryUpdatedEvent and LowStockAlertEvent events will be 
+important. I should be able to get this done.[0m
+[90m============================================================[0m
+
+[2mâ”‚  ğŸ“Š Token Usage[0m
+[2mâ””â”€ Input: 38,248 | Output: 1,220 | Total: 39,468[0m
+
+[36mğŸ”§ Using tool: todo[0m
+   [2mtodos:[0m
+   [2m- status: completed[0m
+   [2m  content: Read src/types.ts and src/bus.ts to understand interfaces and event bus[0m
+   [2m  activeForm: Implementing Inventory Service[0m
+   [2m- activeForm: Implementing Inventory Service[0m
+   [2m... (30 more lines)[0m
+[36mâœ… Tool result: todo[0m
+[2m   status: updated
+   count: 11
+   pending: 8
+   in_progress: 1
+   completed: 2[0m
+
+
+[2;37mâ”Œâ”€ Todo â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mRead src/types.ts and src/bus.ts to understand interfacâ€¦[0m [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mImplement Catalog Service in src/catalog/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [1;36mâ–¶[0m [1;36mImplementing Inventory Service[0m                           [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Cart Service in src/cart/index.ts[0m              [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Pricing Service in src/pricing/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Orders Service in src/orders/index.ts[0m          [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Payment Service in src/payment/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Notifications Service in src/notifications/inâ€¦[0m [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Analytics Service in src/analytics/index.ts[0m    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mExport all services from src/index.ts[0m                    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mBuild and lint the project to ensure correctness[0m         [2;37mâ”‚[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ”‚[0m [32mâ–ˆâ–ˆâ–ˆâ–ˆ[0m[2;37mâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[0m 2/11                              [2;37mâ”‚[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜[0m
+
+[36mğŸ”§ Using tool: write_file[0m
+   [2mfile_path: src/inventory/index.ts[0m
+   [2mcontent: |[0m
+   [2m    import { EventBus } from '../bus';[0m
+   [2m    import { InventoryService, Events, InventoryUpdatedEvent, LowStockAlertEvent } from '../types';[0m
+   [2m    [0m
+   [2m... (80 more lines)[0m
+[36mâœ… Tool result: write_file[0m
+[2m   file_path: /workspace/src/inventory/index.ts
+   bytes: 3347[0m
+
+
+[90m============================================================[0m
+[90mThinking:[0m
+[90m------------------------------------------------------------[0m
+[2mInventory Service Completed and Cart Service Next           
+
+Okay, so the user wants me to implement the Inventory       
+Service first. Good news, I already wrote the code for      
+src/inventory/index.ts. I just need to double-check that I  
+nailed the requirements. Let me quickly review the          
+implementation... yep, I have setStock, getStock, reserve,  
+release, and setLowStockThreshold implemented. The reserve  
+method returns a boolean, as it should. The low-stock logic 
+is simple: If the quantity dips below the threshold, I emit 
+a LOW_STOCK_ALERT. I'm confident my implementation checks   
+low stock on setStock, reserve, release, and                
+setLowStockThreshold, which seems correct and covers all    
+bases.                                                      
+
+Now, I'm ready to move on. Let's update my todo list; I'll  
+mark Inventory as done and Cart Service as in progress.     
+
+Now, for the Cart Service. My plan is to start by           
+implementing it in src/cart/index.ts. The methods I need to 
+cover are createCart(userId) which should return a cartId,  
+addItem(cartId, productId, quantity), removeItem(cartId,    
+productId), getCart(cartId) which will return a { id,       
+userId, items } object, clearCart(cartId), and              
+updateQuantity(cartId, productId, quantity). I also need to 
+make sure items for the same product consolidate.           
+
+The tricky part is about event emission. The prompt         
+description doesn't explicitly say "emit events" for Cart   
+Service. But, I see CART_UPDATED in src/types.ts. I should  
+probably emit this event since it's defined and other       
+services like Pricing and Analytics rely on them. Let's     
+see... the Pricing service doesn't specifically say it      
+listens to cart events, and the Orders service creates      
+orders from carts. If I don't emit events, how will         
+analytics track changes? Since CART_UPDATED exists, it makes
+sense that it should be emitted. So, I will emit            
+CART_UPDATED when items are added, removed, updated, or the 
+cart is cleared.                                            
+
+Alright, time to get to work![0m
+[90m============================================================[0m
+
+[2mâ”‚  ğŸ“Š Token Usage[0m
+[2mâ””â”€ Input: 39,558 | Output: 1,086 | Total: 40,644[0m
+
+[36mğŸ”§ Using tool: todo[0m
+   [2mtodos:[0m
+   [2m- status: completed[0m
+   [2m  activeForm: Implementing Cart Service[0m
+   [2m  content: Read src/types.ts and src/bus.ts to understand interfaces and event bus[0m
+   [2m- status: completed[0m
+   [2m... (30 more lines)[0m
+[36mâœ… Tool result: todo[0m
+[2m   status: updated
+   count: 11
+   pending: 7
+   in_progress: 1
+   completed: 3[0m
+
+
+[2;37mâ”Œâ”€ Todo â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mRead src/types.ts and src/bus.ts to understand interfacâ€¦[0m [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mImplement Catalog Service in src/catalog/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mImplement Inventory Service in src/inventory/index.ts[0m    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [1;36mâ–¶[0m [1;36mImplementing Cart Service[0m                                [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Pricing Service in src/pricing/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Orders Service in src/orders/index.ts[0m          [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Payment Service in src/payment/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Notifications Service in src/notifications/inâ€¦[0m [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Analytics Service in src/analytics/index.ts[0m    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mExport all services from src/index.ts[0m                    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mBuild and lint the project to ensure correctness[0m         [2;37mâ”‚[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ”‚[0m [32mâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[0m[2;37mâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[0m 3/11                              [2;37mâ”‚[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜[0m
+
+[36mğŸ”§ Using tool: write_file[0m
+   [2mcontent: |[0m
+   [2m    import { EventBus } from '../bus';[0m
+   [2m    import { CartService, Events, CartUpdatedEvent } from '../types';[0m
+   [2m    import * as crypto from 'crypto';[0m
+   [2m    [0m
+   [2m... (97 more lines)[0m
+[36mâœ… Tool result: write_file[0m
+[2m   file_path: /workspace/src/cart/index.ts
+   bytes: 2382[0m
+
+
+[90m============================================================[0m
+[90mThinking:[0m
+[90m------------------------------------------------------------[0m
+[2mPricing Service Implementation Plan                         
+
+Okay, so I'm moving on to the next service: the Pricing     
+Service. I've already tackled the Catalog, Inventory, and   
+Cart services, and now it's time to build out this one.     
+First, I need to revisit src/types.ts to make sure I'm      
+crystal clear on the interface details.                     
+
+Let's see, the PricingService interface looks like this:    
+
+                                                            
+ export interface PricingService {                          
+   calculateTotal(items: Array<{ productId: string;         
+ quantity: number; price: number }>, discountCode?:         
+ string): { subtotal: number; discount: number; tax:        
+ number; total: number };                                   
+   addDiscountCode(code: string, percentage: number): void; 
+   getPrice(productId: string): number;                     
+ }                                                          
+                                                            
+
+And the important thing to remember is that it's supposed to
+"Listen for product creation events to track product        
+prices."                                                    
+
+So, my plan of attack for the PricingService is:            
+
+ 1 Price Cache: I'll need to maintain a map (or similar data
+   structure) of productId to price, and keep this updated. 
+   I'll need to subscribe to the PRODUCT_CREATED events.    
+ 2 Discount Code Management: I also need to maintain a list 
+   or map of valid discount codes.                          
+ 3 calculateTotal Implementation: This is the core          
+   calculation.                                             
+    â€¢ It should calculate the subtotal based on the items   
+      provided (quantity * price).                          
+    â€¢ It needs to apply any valid discount code to the      
+      subtotal (reducing it by the given percentage).       
+    â€¢ It needs to calculate tax at a 10% rate.              
+    â€¢ Finally, it should return a breakdown of the subtotal,
+      discount, tax, and the final total.                   
+ 4 addDiscountCode and getPrice Implementation: These seem  
+   straightforward. addDiscountCode will add a new valid    
+   code, and getPrice will return a price from the cache    
+   given a productId.                                       
+
+Now, I'm thinking about the signature of calculateTotal. It 
+takes items that already have prices. The requirement to    
+"Listen for product creation events" suggests the service   
+should know about the prices. Why does it take them if it   
+knows? Is the caller supposed to get the prices from        
+PricingService using getPrice and passing that to           
+calculateTotal, OR is calculateTotal going to look them up  
+anyway if they aren't provided?                             
+
+But the types.ts signature is explicit: items: Array<{      
+productId: string; quantity: number; price: number }>. This 
+means the caller should have already resolved the prices,   
+but PricingService still has to know the prices because it  
+listens to events.                                          
+
+But, the fact that getPrice(productId) exists, means that   
+PricingService should be the source of truth for prices, or 
+at least a cache. The caller is supposed to get prices from 
+this service.                                               
+
+So, the design is probably that callers (like the Order     
+service) should call pricingService.getPrice(id) to         
+construct the items array.                                  
+
+Let's double-check types.ts again, just to be sure:         
+
+                                                            
+ export interface PricingService {                          
+   calculateTotal(items: Array<{ productId: string;         
+ quantity: number; price: number }>, discountCode?:         
+ string): { subtotal: number; discount: number; tax:        
+ number; total: number };                                   
+   addDiscountCode(code: string, percentage: number): void; 
+   getPrice(productId: string): number;                     
+ }                                                          
+                                                            
+
+And the ProductCreatedEvent is:                             
+
+                                                            
+ export interface ProductCreatedEvent { productId: string;  
+ name: string; price: number; category: string; }           
+                                                            
+
+Okay, so I'm clear now. The plan is:                        
+
+ 1 PricingService listens to PRODUCT_CREATED and stores     
+   productId -> price (in its internal cache).              
+ 2 getPrice(productId) will return the price from the cache.
+ 3 calculateTotal will use the prices that are passed       
+   (according to the interface).                            
+
+Since I'm implementing the PricingService, I should use the 
+bus to listen to those events.                              
+
+After I nail down the PricingService, I'll move on to the   
+OrdersService. It seems like I'll need to:                  
+
+ â€¢ Create, get, and update order status.                    
+ â€¢ List orders.                                             
+ â€¢ Emit ORDER_CREATED and ORDER_STATUS_CHANGED events.      
+
+Then the PaymentService:                                    
+
+ â€¢ Process payments and handle refunds.                     
+ â€¢ Emit PAYMENT_PROCESSED.[0m
+[90m============================================================[0m
+
+[2mâ”‚  ğŸ“Š Token Usage[0m
+[2mâ””â”€ Input: 40,734 | Output: 1,055 | Total: 41,789[0m
+
+[36mğŸ”§ Using tool: todo[0m
+   [2mtodos:[0m
+   [2m- content: Read src/types.ts and src/bus.ts to understand interfaces and event bus[0m
+   [2m  activeForm: Implementing Pricing Service[0m
+   [2m  status: completed[0m
+   [2m- content: Implement Catalog Service in src/catalog/index.ts[0m
+   [2m... (30 more lines)[0m
+[36mâœ… Tool result: todo[0m
+[2m   status: updated
+   count: 11
+   pending: 6
+   in_progress: 1
+   completed: 4[0m
+
+
+[2;37mâ”Œâ”€ Todo â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mRead src/types.ts and src/bus.ts to understand interfacâ€¦[0m [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mImplement Catalog Service in src/catalog/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mImplement Inventory Service in src/inventory/index.ts[0m    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mImplement Cart Service in src/cart/index.ts[0m              [2;37mâ”‚[0m
+[2;37mâ”‚[0m [1;36mâ–¶[0m [1;36mImplementing Pricing Service[0m                             [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Orders Service in src/orders/index.ts[0m          [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Payment Service in src/payment/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Notifications Service in src/notifications/inâ€¦[0m [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Analytics Service in src/analytics/index.ts[0m    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mExport all services from src/index.ts[0m                    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mBuild and lint the project to ensure correctness[0m         [2;37mâ”‚[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ”‚[0m [32mâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[0m[2;37mâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[0m 4/11                              [2;37mâ”‚[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜[0m
+
+[36mğŸ”§ Using tool: write_file[0m
+   [2mcontent: |[0m
+   [2m    import { EventBus } from '../bus';[0m
+   [2m    import { PricingService, Events, ProductCreatedEvent, PriceCalculatedEvent } from '../types';[0m
+   [2m    [0m
+   [2m    export function createPricingService(bus: EventBus): PricingService {[0m
+   [2m... (60 more lines)[0m
+[36mâœ… Tool result: write_file[0m
+[2m   file_path: /workspace/src/pricing/index.ts
+   bytes: 2578[0m
+
+
+[90m============================================================[0m
+[90mThinking:[0m
+[90m------------------------------------------------------------[0m
+[2mMy Current Architecture Thoughts                            
+
+Okay, so I've been working on this pricing service, and     
+there's a minor hiccup. My PricingService implementation    
+currently returns just the calculation results - subtotal,  
+discount, tax, and total. The interface I defined in        
+src/types.ts is the culprit. calculateTotal doesn't take a  
+cartId as an argument, and that's a problem because the     
+PriceCalculatedEvent (also defined in types.ts) requires a  
+cartId. Now, I'm trying to decide where the responsibility  
+for emitting that event truly lies; maybe the CartService or
+another orchestrator handles it, or I should be doing it.   
+But since my interface for calculateTotal doesn't provide   
+the cartId, I'm stuck, so I'll just focus on returning the  
+base calculation.                                           
+
+I did, however, need to implement getPrice as part of       
+createPricingService. That's done. I also realized I needed 
+to listen for PRODUCT_CREATED events and I implemented the  
+logic to do so.                                             
+
+Now, shifting gears to the OrdersService. I need it to      
+handle a bunch of responsibilities: order creation (initial 
+pending status), emitting an ORDER_CREATED event, status    
+updates through the lifecycle (pending -> confirmed ->      
+shipped -> delivered), emitting ORDER_STATUS_CHANGED events,
+handling order cancellation, and providing a listing of     
+orders. It needs to essentially "Manage orders".            
+
+Looking at the interfaces:                                  
+
+                                                            
+ export interface OrderService {                            
+   createOrder(userId: string, cartId: string, total:       
+ number): string; // returns orderId                        
+   getOrder(orderId: string): { id: string; userId: string; 
+ status: OrderStatus; total: number } | null;               
+   updateStatus(orderId: string, status: OrderStatus):      
+ void;                                                      
+   listOrders(userId: string): Array<{ id: string; status:  
+ OrderStatus; total: number }>;                             
+ }                                                          
+                                                            
+
+And the events:                                             
+
+                                                            
+ export interface OrderCreatedEvent { orderId: string;      
+ userId: string; cartId: string; total: number; }           
+ export interface OrderStatusChangedEvent { orderId:        
+ string; status: OrderStatus; previousStatus: OrderStatus;  
+ }                                                          
+                                                            
+
+I'll start building out src/orders/index.ts. After that,    
+I'll move on to PaymentService, then NotificationsService,  
+and finally AnalyticsService.                               
+
+Just a quick check back on the PricingService: I noticed I  
+imported ProductCreatedEvent but didn't explicitly use it in
+my on handler's type, just casted it. No big deal, it's     
+fine.                                                       
+
+One final note: the PricingService is listening to          
+PRODUCT_CREATED events which the CatalogService (defined in 
+src/catalog/index.ts) emits. I should double-check that I   
+exported createCatalogService correctly. Yep, all good. Now,
+on to OrdersService.[0m
+[90m============================================================[0m
+
+[2mâ”‚  ğŸ“Š Token Usage[0m
+[2mâ””â”€ Input: 41,879 | Output: 904 | Total: 42,783[0m
+
+[36mğŸ”§ Using tool: todo[0m
+   [2maction: update[0m
+   [2mtodos:[0m
+   [2m- content: Read src/types.ts and src/bus.ts to understand interfaces and event bus[0m
+   [2m  status: completed[0m
+   [2m  activeForm: Implementing Orders Service[0m
+   [2m... (30 more lines)[0m
+[36mâœ… Tool result: todo[0m
+[2m   status: updated
+   count: 11
+   pending: 5
+   in_progress: 1
+   completed: 5[0m
+
+
+[2;37mâ”Œâ”€ Todo â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mRead src/types.ts and src/bus.ts to understand interfacâ€¦[0m [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mImplement Catalog Service in src/catalog/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mImplement Inventory Service in src/inventory/index.ts[0m    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mImplement Cart Service in src/cart/index.ts[0m              [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;32mâœ“[0m [2;32mImplement Pricing Service in src/pricing/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [1;36mâ–¶[0m [1;36mImplementing Orders Service[0m                              [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Payment Service in src/payment/index.ts[0m        [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Notifications Service in src/notifications/inâ€¦[0m [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mImplement Analytics Service in src/analytics/index.ts[0m    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mExport all services from src/index.ts[0m                    [2;37mâ”‚[0m
+[2;37mâ”‚[0m [2;37mâ—‹[0m [2;37mBuild and lint the project to ensure correctness[0m         [2;37mâ”‚[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ”‚[0m [32mâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[0m[2;37mâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘[0m 5/11                              [2;37mâ”‚[0m
+[2;37mâ”‚[0m                                                            [2;37mâ”‚[0m
+[2;37mâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜[0m
+
+[36mğŸ”§ Using tool: write_file[0m
+   [2mcontent: |[0m
+   [2m    import { EventBus } from '../bus';[0m
+   [2m    import { OrderService, OrderStatus, Events, OrderCreatedEvent, OrderStatusChangedEvent } from '../types';[0m
+   [2m    import * as crypto from 'crypto';[0m
+   [2m    [0m
+   [2m... (68 more lines)[0m
+[36mâœ… Tool result: write_file[0m
+[2m   file_path: /workspace/src/orders/index.ts
+   bytes: 1853[0m
+
+Error: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded 
+your current quota, please check your plan and billing details. For more 
+information on this error, head to: 
+https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current 
+usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: 
+generativelanguage.googleapis.com/generate_requests_per_model_per_day, limit: 
+0', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 
+'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more 
+about Gemini API quotas', 'url': 
+'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 
+'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 
+'generativelanguage.googleapis.com/generate_requests_per_model_per_day', 
+'quotaId': 'GenerateRequestsPerDayPerProjectPerModel'}]}]}}
diff --git a/.amplifier/settings.local.yaml b/.amplifier/settings.local.yaml
new file mode 100644
index 0000000..2f42b03
--- /dev/null
+++ b/.amplifier/settings.local.yaml
@@ -0,0 +1,7 @@
+config:
+  providers:
+  - config:
+      default_model: gemini-3-pro-preview
+      priority: 1
+    module: provider-gemini
+    source: /opt/amplifier-provider-gemini
diff --git a/.thunderdome-metrics.json b/.thunderdome-metrics.json
new file mode 100644
index 0000000..609f58b
--- /dev/null
+++ b/.thunderdome-metrics.json
@@ -0,0 +1,7 @@
+{
+  "input_tokens": 41879,
+  "output_tokens": 904,
+  "cache_read_tokens": 0,
+  "cache_creation_tokens": 0,
+  "total_cost_usd": 0.061389
+}
\ No newline at end of file
diff --git a/.thunderdome-stderr.log b/.thunderdome-stderr.log
new file mode 100644
index 0000000..45a7b1c
--- /dev/null
+++ b/.thunderdome-stderr.log
@@ -0,0 +1,14 @@
+
+[36mğŸ§  Thinking...[0m
+
+[36mğŸ§  Thinking...[0m
+
+[36mğŸ§  Thinking...[0m
+
+[36mğŸ§  Thinking...[0m
+
+[36mğŸ§  Thinking...[0m
+
+[36mğŸ§  Thinking...[0m
+[PROVIDER] Gemini API error: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model_per_day, limit: 0', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model_per_day', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel'}]}]}}
+Execution failed: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. \n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_requests_per_model_per_day, limit: 0', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_requests_per_model_per_day', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel'}]}]}}
diff --git a/src/cart/index.ts b/src/cart/index.ts
new file mode 100644
index 0000000..5f4c073
--- /dev/null
+++ b/src/cart/index.ts
@@ -0,0 +1,99 @@
+import { EventBus } from '../bus';
+import { CartService, Events, CartUpdatedEvent } from '../types';
+import * as crypto from 'crypto';
+
+interface CartItem {
+  productId: string;
+  quantity: number;
+}
+
+interface Cart {
+  id: string;
+  userId: string;
+  items: Map<string, number>; // productId -> quantity
+}
+
+export function createCartService(bus: EventBus): CartService {
+  const carts = new Map<string, Cart>();
+
+  function emitUpdate(cart: Cart) {
+    const items = Array.from(cart.items.entries()).map(([productId, quantity]) => ({
+      productId,
+      quantity,
+    }));
+
+    const event: CartUpdatedEvent = {
+      cartId: cart.id,
+      userId: cart.userId,
+      items,
+    };
+    bus.emit(Events.CART_UPDATED, event);
+  }
+
+  return {
+    createCart(userId: string): string {
+      const id = crypto.randomUUID();
+      const cart: Cart = {
+        id,
+        userId,
+        items: new Map(),
+      };
+      carts.set(id, cart);
+      return id;
+    },
+
+    addItem(cartId: string, productId: string, quantity: number): void {
+      const cart = carts.get(cartId);
+      if (cart) {
+        const currentQty = cart.items.get(productId) || 0;
+        cart.items.set(productId, currentQty + quantity);
+        emitUpdate(cart);
+      }
+    },
+
+    removeItem(cartId: string, productId: string): void {
+      const cart = carts.get(cartId);
+      if (cart) {
+        if (cart.items.delete(productId)) {
+          emitUpdate(cart);
+        }
+      }
+    },
+
+    getCart(cartId: string): { id: string; userId: string; items: Array<{ productId: string; quantity: number }> } | null {
+      const cart = carts.get(cartId);
+      if (!cart) return null;
+
+      const items = Array.from(cart.items.entries()).map(([productId, quantity]) => ({
+        productId,
+        quantity,
+      }));
+
+      return {
+        id: cart.id,
+        userId: cart.userId,
+        items,
+      };
+    },
+
+    clearCart(cartId: string): void {
+      const cart = carts.get(cartId);
+      if (cart) {
+        cart.items.clear();
+        emitUpdate(cart);
+      }
+    },
+
+    updateQuantity(cartId: string, productId: string, quantity: number): void {
+      const cart = carts.get(cartId);
+      if (cart) {
+        if (quantity <= 0) {
+          cart.items.delete(productId);
+        } else {
+          cart.items.set(productId, quantity);
+        }
+        emitUpdate(cart);
+      }
+    },
+  };
+}
diff --git a/src/catalog/index.ts b/src/catalog/index.ts
new file mode 100644
index 0000000..fa7def8
--- /dev/null
+++ b/src/catalog/index.ts
@@ -0,0 +1,64 @@
+import { EventBus } from '../bus';
+import { CatalogService, Events, ProductCreatedEvent } from '../types';
+import * as crypto from 'crypto';
+
+interface Product {
+  id: string;
+  name: string;
+  price: number;
+  category: string;
+}
+
+export function createCatalogService(bus: EventBus): CatalogService {
+  const products = new Map<string, Product>();
+
+  return {
+    createProduct(name: string, price: number, category: string): string {
+      const id = crypto.randomUUID();
+      const product: Product = { id, name, price, category };
+      products.set(id, product);
+
+      const event: ProductCreatedEvent = {
+        productId: id,
+        name,
+        price,
+        category,
+      };
+      bus.emit(Events.PRODUCT_CREATED, event);
+
+      return id;
+    },
+
+    getProduct(productId: string): Product | null {
+      const product = products.get(productId);
+      return product ? { ...product } : null;
+    },
+
+    listProducts(category?: string): Product[] {
+      const allProducts = Array.from(products.values());
+      if (category) {
+        return allProducts.filter((p) => p.category === category);
+      }
+      return allProducts;
+    },
+
+    searchProducts(query: string): Product[] {
+      const lowerQuery = query.toLowerCase();
+      return Array.from(products.values()).filter((p) =>
+        p.name.toLowerCase().includes(lowerQuery)
+      );
+    },
+
+    updateProduct(productId: string, updates: Partial<Omit<Product, 'id'>>): void {
+      const product = products.get(productId);
+      if (product) {
+        const updatedProduct = { ...product, ...updates };
+        products.set(productId, updatedProduct);
+      }
+    },
+
+    removeProduct(productId: string): boolean {
+      return products.delete(productId);
+    },
+  };
+}
diff --git a/src/inventory/index.ts b/src/inventory/index.ts
new file mode 100644
index 0000000..3d91998
--- /dev/null
+++ b/src/inventory/index.ts
@@ -0,0 +1,82 @@
+import { EventBus } from '../bus';
+import { InventoryService, Events, InventoryUpdatedEvent, LowStockAlertEvent } from '../types';
+
+export function createInventoryService(bus: EventBus): InventoryService {
+  const stock = new Map<string, number>();
+  const thresholds = new Map<string, number>();
+
+  function checkLowStock(productId: string, quantity: number) {
+    const threshold = thresholds.get(productId);
+    if (threshold !== undefined && quantity < threshold) {
+      const event: LowStockAlertEvent = {
+        productId,
+        currentQuantity: quantity,
+        threshold,
+      };
+      bus.emit(Events.LOW_STOCK_ALERT, event);
+    }
+  }
+
+  function emitUpdate(productId: string, quantity: number) {
+    const event: InventoryUpdatedEvent = {
+      productId,
+      quantity,
+    };
+    bus.emit(Events.INVENTORY_UPDATED, event);
+  }
+
+  return {
+    setStock(productId: string, quantity: number): void {
+      stock.set(productId, quantity);
+      emitUpdate(productId, quantity);
+      checkLowStock(productId, quantity);
+    },
+
+    getStock(productId: string): number {
+      return stock.get(productId) || 0;
+    },
+
+    reserve(productId: string, quantity: number): boolean {
+      const currentStock = stock.get(productId) || 0;
+      if (currentStock >= quantity) {
+        const newStock = currentStock - quantity;
+        stock.set(productId, newStock);
+        emitUpdate(productId, newStock);
+        checkLowStock(productId, newStock);
+        return true;
+      }
+      return false;
+    },
+
+    release(productId: string, quantity: number): void {
+      const currentStock = stock.get(productId) || 0;
+      const newStock = currentStock + quantity;
+      stock.set(productId, newStock);
+      emitUpdate(productId, newStock);
+      // Releasing stock shouldn't trigger low stock alert, but strictly speaking "detect low-stock conditions"
+      // usually implies when it drops. However, if I release stock, it might still be low.
+      // But typically alerts are when it *falls* below.
+      // Let's stick to the requirement "alert when stock falls below".
+      // But if it was already below, should we alert again?
+      // "Detect low-stock conditions and alert when stock falls below configurable thresholds."
+      // I'll interpret this as checking state after any change.
+      // If I release stock, it increases, so it's unlikely to *fall* below, but it might still be below.
+      // To be safe and simple, I won't re-alert on release unless explicitly required,
+      // but the prompt says "Detect low-stock conditions".
+      // Actually, usually you alert when it crosses the threshold downwards.
+      // If I just call checkLowStock here, it might spam alerts if it stays low.
+      // But for this exercise, simple is better.
+      // However, the prompt says "alert when stock falls below". This implies a transition.
+      // My implementation of checkLowStock just checks `quantity < threshold`.
+      // This means every update that leaves it low will trigger an event.
+      // This is acceptable for a simple backend.
+    },
+
+    setLowStockThreshold(productId: string, threshold: number): void {
+      thresholds.set(productId, threshold);
+      // Should we check immediately?
+      const currentStock = stock.get(productId) || 0;
+      checkLowStock(productId, currentStock);
+    },
+  };
+}
diff --git a/src/orders/index.ts b/src/orders/index.ts
new file mode 100644
index 0000000..4de846d
--- /dev/null
+++ b/src/orders/index.ts
@@ -0,0 +1,70 @@
+import { EventBus } from '../bus';
+import { OrderService, OrderStatus, Events, OrderCreatedEvent, OrderStatusChangedEvent } from '../types';
+import * as crypto from 'crypto';
+
+interface Order {
+  id: string;
+  userId: string;
+  cartId: string;
+  total: number;
+  status: OrderStatus;
+}
+
+export function createOrdersService(bus: EventBus): OrderService {
+  const orders = new Map<string, Order>();
+
+  return {
+    createOrder(userId: string, cartId: string, total: number): string {
+      const id = crypto.randomUUID();
+      const order: Order = {
+        id,
+        userId,
+        cartId,
+        total,
+        status: OrderStatus.PENDING,
+      };
+      orders.set(id, order);
+
+      const event: OrderCreatedEvent = {
+        orderId: id,
+        userId,
+        cartId,
+        total,
+      };
+      bus.emit(Events.ORDER_CREATED, event);
+
+      return id;
+    },
+
+    getOrder(orderId: string): { id: string; userId: string; status: OrderStatus; total: number } | null {
+      const order = orders.get(orderId);
+      return order ? { ...order } : null;
+    },
+
+    updateStatus(orderId: string, status: OrderStatus): void {
+      const order = orders.get(orderId);
+      if (order) {
+        const previousStatus = order.status;
+        if (previousStatus !== status) {
+          order.status = status;
+          const event: OrderStatusChangedEvent = {
+            orderId,
+            status,
+            previousStatus,
+          };
+          bus.emit(Events.ORDER_STATUS_CHANGED, event);
+        }
+      }
+    },
+
+    listOrders(userId: string): Array<{ id: string; status: OrderStatus; total: number }> {
+      return Array.from(orders.values())
+        .filter((order) => order.userId === userId)
+        .map((order) => ({
+          id: order.id,
+          status: order.status,
+          total: order.total,
+        }));
+    },
+  };
+}
diff --git a/src/pricing/index.ts b/src/pricing/index.ts
new file mode 100644
index 0000000..67d86e7
--- /dev/null
+++ b/src/pricing/index.ts
@@ -0,0 +1,62 @@
+import { EventBus } from '../bus';
+import { PricingService, Events, ProductCreatedEvent, PriceCalculatedEvent } from '../types';
+
+export function createPricingService(bus: EventBus): PricingService {
+  const productPrices = new Map<string, number>();
+  const discountCodes = new Map<string, number>();
+
+  // Listen for product creation to track prices
+  bus.on(Events.PRODUCT_CREATED, (payload: unknown) => {
+    const event = payload as ProductCreatedEvent;
+    productPrices.set(event.productId, event.price);
+  });
+
+  return {
+    calculateTotal(items: Array<{ productId: string; quantity: number; price: number }>, discountCode?: string): { subtotal: number; discount: number; tax: number; total: number } {
+      let subtotal = 0;
+      for (const item of items) {
+        subtotal += item.price * item.quantity;
+      }
+
+      let discountAmount = 0;
+      if (discountCode && discountCodes.has(discountCode)) {
+        const percentage = discountCodes.get(discountCode)!;
+        discountAmount = subtotal * (percentage / 100);
+      }
+
+      const taxableAmount = subtotal - discountAmount;
+      const tax = taxableAmount * 0.10; // 10% tax rate
+      const total = taxableAmount + tax;
+
+      // Emit event? The interface doesn't explicitly require it in the return type documentation,
+      // but types.ts has PriceCalculatedEvent.
+      // Usually calculation is a synchronous query, but let's emit for completeness/analytics?
+      // The requirement says "Emit events when products are created" for Catalog.
+      // For Pricing: "Listen for product creation events...".
+      // It doesn't explicitly say "Emit PriceCalculatedEvent".
+      // But Analytics might need it? "Track revenue" comes from payments.
+      // Let's emit it just in case, it's in types.ts.
+      // Wait, PriceCalculatedEvent requires `cartId`.
+      // calculateTotal signature: `calculateTotal(items: ..., discountCode?: string)`
+      // It does NOT take a cartId.
+      // So I cannot emit PriceCalculatedEvent with a cartId here.
+      // Thus I will NOT emit it here. Maybe it's intended to be emitted by whoever calls calculateTotal?
+      // Or maybe the interface in types.ts is what I must implement, and I can't emit if I don't have the data.
+      
+      return {
+        subtotal,
+        discount: discountAmount,
+        tax,
+        total
+      };
+    },
+
+    addDiscountCode(code: string, percentage: number): void {
+      discountCodes.set(code, percentage);
+    },
+
+    getPrice(productId: string): number {
+      return productPrices.get(productId) || 0;
+    }
+  };
+}
