diff --git a/.gemini-output.json b/.gemini-output.json
new file mode 100644
index 0000000..d5ce2e2
--- /dev/null
+++ b/.gemini-output.json
@@ -0,0 +1,122 @@
+{
+  "session_id": "5393eb64-03b4-4562-a54a-03533469f490",
+  "response": "I have completed the task. implemented all 8 services in their respective directories, exported them from `src/index.ts`, and verified the implementation with an integration test. The code compiles and passes linting.",
+  "stats": {
+    "models": {
+      "gemini-2.5-flash-lite": {
+        "api": {
+          "totalRequests": 5,
+          "totalErrors": 4,
+          "totalLatencyMs": 3147
+        },
+        "tokens": {
+          "input": 1763,
+          "prompt": 1763,
+          "candidates": 125,
+          "total": 2246,
+          "cached": 0,
+          "thoughts": 358,
+          "tool": 0
+        }
+      },
+      "gemini-3-flash-preview": {
+        "api": {
+          "totalRequests": 73,
+          "totalErrors": 18,
+          "totalLatencyMs": 203420
+        },
+        "tokens": {
+          "input": 138699,
+          "prompt": 1097005,
+          "candidates": 14467,
+          "total": 1119092,
+          "cached": 958306,
+          "thoughts": 7620,
+          "tool": 0
+        }
+      },
+      "gemini-2.5-flash": {
+        "api": {
+          "totalRequests": 3,
+          "totalErrors": 1,
+          "totalLatencyMs": 9210
+        },
+        "tokens": {
+          "input": 9499,
+          "prompt": 9499,
+          "candidates": 251,
+          "total": 11019,
+          "cached": 0,
+          "thoughts": 1269,
+          "tool": 0
+        }
+      }
+    },
+    "tools": {
+      "totalCalls": 55,
+      "totalSuccess": 53,
+      "totalFail": 2,
+      "totalDurationMs": 343430,
+      "totalDecisions": {
+        "accept": 55,
+        "reject": 0,
+        "modify": 0,
+        "auto_accept": 0
+      },
+      "byName": {
+        "read_file": {
+          "count": 5,
+          "success": 5,
+          "fail": 0,
+          "durationMs": 20,
+          "decisions": {
+            "accept": 5,
+            "reject": 0,
+            "modify": 0,
+            "auto_accept": 0
+          }
+        },
+        "write_file": {
+          "count": 11,
+          "success": 11,
+          "fail": 0,
+          "durationMs": 27,
+          "decisions": {
+            "accept": 11,
+            "reject": 0,
+            "modify": 0,
+            "auto_accept": 0
+          }
+        },
+        "run_shell_command": {
+          "count": 16,
+          "success": 16,
+          "fail": 0,
+          "durationMs": 343325,
+          "decisions": {
+            "accept": 16,
+            "reject": 0,
+            "modify": 0,
+            "auto_accept": 0
+          }
+        },
+        "replace": {
+          "count": 23,
+          "success": 21,
+          "fail": 2,
+          "durationMs": 58,
+          "decisions": {
+            "accept": 23,
+            "reject": 0,
+            "modify": 0,
+            "auto_accept": 0
+          }
+        }
+      }
+    },
+    "files": {
+      "totalLinesAdded": 770,
+      "totalLinesRemoved": 55
+    }
+  }
+}
\ No newline at end of file
diff --git a/.thunderdome-metrics.json b/.thunderdome-metrics.json
new file mode 100644
index 0000000..d59bd21
--- /dev/null
+++ b/.thunderdome-metrics.json
@@ -0,0 +1,10 @@
+{
+  "input_tokens": 149961,
+  "output_tokens": 14843,
+  "cache_read_tokens": 958306,
+  "cache_creation_tokens": 0,
+  "thought_tokens": 9247,
+  "turns": 55,
+  "total_cost_usd": -0.47971,
+  "note": "google-one-oauth-no-actual-cost"
+}
\ No newline at end of file
diff --git a/.thunderdome-stderr.log b/.thunderdome-stderr.log
new file mode 100644
index 0000000..6ebecb8
--- /dev/null
+++ b/.thunderdome-stderr.log
@@ -0,0 +1,30 @@
+YOLO mode is enabled. All tool calls will be automatically approved.
+Loaded cached credentials.
+YOLO mode is enabled. All tool calls will be automatically approved.
+Hook registry initialized with 0 hook entries
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 1s.. Retrying after 1536.396763ms...
+Attempt 2 failed: You have exhausted your capacity on this model. Your quota will reset after 2s.. Retrying after 2912.153968ms...
+Attempt 3 failed: You have exhausted your capacity on this model. Your quota will reset after 2s.. Retrying after 2912.350223ms...
+Attempt 4 failed: You have exhausted your capacity on this model. Your quota will reset after 2s.. Retrying after 2920.0932329999996ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 51.409783ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 857.9856649999999ms...
+Attempt 2 failed: You have exhausted your capacity on this model. Your quota will reset after 2s.. Retrying after 2887.840463ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 720.412546ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 1s.. Retrying after 1332.013266ms...
+Attempt 2 failed: You have exhausted your capacity on this model. Your quota will reset after 2s.. Retrying after 2887.963968ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 833.85786ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 2s.. Retrying after 2219.37833ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 1s.. Retrying after 1704.239562ms...
+Attempt 2 failed: You have exhausted your capacity on this model. Your quota will reset after 2s.. Retrying after 2882.827056ms...
+missing pgrep output
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 622.74474ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 646.16498ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 225.041495ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 831.426899ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 613.996212ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 196.927193ms...
+Error executing tool replace: Error: No changes to apply. The old_string and new_string are identical.
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 147.78886ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 670.499783ms...
+Error executing tool replace: Error: Failed to edit, could not find the string to replace.
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 579.7816270000001ms...
diff --git a/package-lock.json b/package-lock.json
index 783de11..1c1962f 100644
--- a/package-lock.json
+++ b/package-lock.json
@@ -18,11 +18,83 @@
         "@types/uuid": "^10.0.0",
         "@typescript-eslint/eslint-plugin": "^7.0.0",
         "@typescript-eslint/parser": "^7.0.0",
+        "@vitest/coverage-v8": "^2.0.0",
         "eslint": "^8.56.0",
         "typescript": "^5.4.0",
         "vitest": "^2.0.0"
       }
     },
+    "node_modules/@ampproject/remapping": {
+      "version": "2.3.0",
+      "resolved": "https://registry.npmjs.org/@ampproject/remapping/-/remapping-2.3.0.tgz",
+      "integrity": "sha512-30iZtAPgz+LTIYoeivqYo853f02jBYSd5uGnGpkFV0M3xOt9aN73erkgYAmZU43x4VfqcnLxW9Kpg3R5LC4YYw==",
+      "dev": true,
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@jridgewell/gen-mapping": "^0.3.5",
+        "@jridgewell/trace-mapping": "^0.3.24"
+      },
+      "engines": {
+        "node": ">=6.0.0"
+      }
+    },
+    "node_modules/@babel/helper-string-parser": {
+      "version": "7.27.1",
+      "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
+      "integrity": "sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
+    "node_modules/@babel/helper-validator-identifier": {
+      "version": "7.28.5",
+      "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.28.5.tgz",
+      "integrity": "sha512-qSs4ifwzKJSV39ucNjsvc6WVHs6b7S03sOh2OcHF9UHfVPqWWALUsNUVzhSBiItjRZoLHx7nIarVjqKVusUZ1Q==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
+    "node_modules/@babel/parser": {
+      "version": "7.29.0",
+      "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.29.0.tgz",
+      "integrity": "sha512-IyDgFV5GeDUVX4YdF/3CPULtVGSXXMLh1xVIgdCgxApktqnQV0r7/8Nqthg+8YLGaAtdyIlo2qIdZrbCv4+7ww==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/types": "^7.29.0"
+      },
+      "bin": {
+        "parser": "bin/babel-parser.js"
+      },
+      "engines": {
+        "node": ">=6.0.0"
+      }
+    },
+    "node_modules/@babel/types": {
+      "version": "7.29.0",
+      "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.29.0.tgz",
+      "integrity": "sha512-LwdZHpScM4Qz8Xw2iKSzS+cfglZzJGvofQICy7W7v4caru4EaAmyUuO6BGrbyQ2mYV11W0U8j5mBhd14dd3B0A==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/helper-string-parser": "^7.27.1",
+        "@babel/helper-validator-identifier": "^7.28.5"
+      },
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
+    "node_modules/@bcoe/v8-coverage": {
+      "version": "0.2.3",
+      "resolved": "https://registry.npmjs.org/@bcoe/v8-coverage/-/v8-coverage-0.2.3.tgz",
+      "integrity": "sha512-0hYQ8SB4Db5zvZB4axdMHGwEaQjkZzFjQiN9LVYvIFB2nSUHW9tYpxWriPrWDASIxiaXax83REcLxuSdnGPZtw==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/@esbuild/aix-ppc64": {
       "version": "0.21.5",
       "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.21.5.tgz",
@@ -563,6 +635,84 @@
       "dev": true,
       "license": "BSD-3-Clause"
     },
+    "node_modules/@isaacs/cliui": {
+      "version": "8.0.2",
+      "resolved": "https://registry.npmjs.org/@isaacs/cliui/-/cliui-8.0.2.tgz",
+      "integrity": "sha512-O8jcjabXaleOG9DQ0+ARXWZBTfnP4WNAqzuiJK7ll44AmxGKv/J2M4TPjxjY3znBCfvBXFzucm1twdyFybFqEA==",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "string-width": "^5.1.2",
+        "string-width-cjs": "npm:string-width@^4.2.0",
+        "strip-ansi": "^7.0.1",
+        "strip-ansi-cjs": "npm:strip-ansi@^6.0.1",
+        "wrap-ansi": "^8.1.0",
+        "wrap-ansi-cjs": "npm:wrap-ansi@^7.0.0"
+      },
+      "engines": {
+        "node": ">=12"
+      }
+    },
+    "node_modules/@isaacs/cliui/node_modules/ansi-regex": {
+      "version": "6.2.2",
+      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.2.2.tgz",
+      "integrity": "sha512-Bq3SmSpyFHaWjPk8If9yc6svM8c56dB5BAtW4Qbw5jHTwwXXcTLoRMkpDJp6VL0XzlWaCHTXrkFURMYmD0sLqg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=12"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/ansi-regex?sponsor=1"
+      }
+    },
+    "node_modules/@isaacs/cliui/node_modules/strip-ansi": {
+      "version": "7.1.2",
+      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.2.tgz",
+      "integrity": "sha512-gmBGslpoQJtgnMAvOVqGZpEz9dyoKTCzy2nfz/n8aIFhN/jCE/rCmcxabB6jOOHV+0WNnylOxaxBQPSvcWklhA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "ansi-regex": "^6.0.1"
+      },
+      "engines": {
+        "node": ">=12"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/strip-ansi?sponsor=1"
+      }
+    },
+    "node_modules/@istanbuljs/schema": {
+      "version": "0.1.3",
+      "resolved": "https://registry.npmjs.org/@istanbuljs/schema/-/schema-0.1.3.tgz",
+      "integrity": "sha512-ZXRY4jNvVgSVQ8DL3LTcakaAtXwTVUxE81hslsyD2AtoXW/wVob10HkOJ1X/pAlcI7D+2YoZKg5do8G/w6RYgA==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/@jridgewell/gen-mapping": {
+      "version": "0.3.13",
+      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
+      "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@jridgewell/sourcemap-codec": "^1.5.0",
+        "@jridgewell/trace-mapping": "^0.3.24"
+      }
+    },
+    "node_modules/@jridgewell/resolve-uri": {
+      "version": "3.1.2",
+      "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
+      "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=6.0.0"
+      }
+    },
     "node_modules/@jridgewell/sourcemap-codec": {
       "version": "1.5.5",
       "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.5.tgz",
@@ -570,6 +720,17 @@
       "dev": true,
       "license": "MIT"
     },
+    "node_modules/@jridgewell/trace-mapping": {
+      "version": "0.3.31",
+      "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.31.tgz",
+      "integrity": "sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@jridgewell/resolve-uri": "^3.1.0",
+        "@jridgewell/sourcemap-codec": "^1.4.14"
+      }
+    },
     "node_modules/@nodelib/fs.scandir": {
       "version": "2.1.5",
       "resolved": "https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz",
@@ -608,6 +769,17 @@
         "node": ">= 8"
       }
     },
+    "node_modules/@pkgjs/parseargs": {
+      "version": "0.11.0",
+      "resolved": "https://registry.npmjs.org/@pkgjs/parseargs/-/parseargs-0.11.0.tgz",
+      "integrity": "sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==",
+      "dev": true,
+      "license": "MIT",
+      "optional": true,
+      "engines": {
+        "node": ">=14"
+      }
+    },
     "node_modules/@rollup/rollup-android-arm-eabi": {
       "version": "4.57.1",
       "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm-eabi/-/rollup-android-arm-eabi-4.57.1.tgz",
@@ -1042,7 +1214,6 @@
       "integrity": "sha512-m0jEgYlYz+mDJZ2+F4v8D1AyQb+QzsNqRuI7xg1VQX/KlKS0qT9r1Mo16yo5F/MtifXFgaofIFsdFMox2SxIbQ==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "dependencies": {
         "undici-types": "~7.16.0"
       }
@@ -1141,7 +1312,6 @@
       "integrity": "sha512-4Z+L8I2OqhZV8qA132M4wNL30ypZGYOQVBfMgxDH/K5UX0PNqTu1c6za9ST5r9+tavvHiTWmBnKzpCJ/GlVFtg==",
       "dev": true,
       "license": "BSD-2-Clause",
-      "peer": true,
       "dependencies": {
         "@typescript-eslint/scope-manager": "7.18.0",
         "@typescript-eslint/types": "7.18.0",
@@ -1302,6 +1472,39 @@
       "dev": true,
       "license": "ISC"
     },
+    "node_modules/@vitest/coverage-v8": {
+      "version": "2.1.9",
+      "resolved": "https://registry.npmjs.org/@vitest/coverage-v8/-/coverage-v8-2.1.9.tgz",
+      "integrity": "sha512-Z2cOr0ksM00MpEfyVE8KXIYPEcBFxdbLSs56L8PO0QQMxt/6bDj45uQfxoc96v05KW3clk7vvgP0qfDit9DmfQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@ampproject/remapping": "^2.3.0",
+        "@bcoe/v8-coverage": "^0.2.3",
+        "debug": "^4.3.7",
+        "istanbul-lib-coverage": "^3.2.2",
+        "istanbul-lib-report": "^3.0.1",
+        "istanbul-lib-source-maps": "^5.0.6",
+        "istanbul-reports": "^3.1.7",
+        "magic-string": "^0.30.12",
+        "magicast": "^0.3.5",
+        "std-env": "^3.8.0",
+        "test-exclude": "^7.0.1",
+        "tinyrainbow": "^1.2.0"
+      },
+      "funding": {
+        "url": "https://opencollective.com/vitest"
+      },
+      "peerDependencies": {
+        "@vitest/browser": "2.1.9",
+        "vitest": "2.1.9"
+      },
+      "peerDependenciesMeta": {
+        "@vitest/browser": {
+          "optional": true
+        }
+      }
+    },
     "node_modules/@vitest/expect": {
       "version": "2.1.9",
       "resolved": "https://registry.npmjs.org/@vitest/expect/-/expect-2.1.9.tgz",
@@ -1434,7 +1637,6 @@
       "integrity": "sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "bin": {
         "acorn": "bin/acorn"
       },
@@ -1985,12 +2187,26 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/eastasianwidth": {
+      "version": "0.2.0",
+      "resolved": "https://registry.npmjs.org/eastasianwidth/-/eastasianwidth-0.2.0.tgz",
+      "integrity": "sha512-I88TYZWc9XiYHRQ4/3c5rjjfgkjhLyW2luGIheGERbNQ6OY7yTybanSpDXZa8y7VUP9YmDcYa+eyq4ca7iLqWA==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/ee-first": {
       "version": "1.1.1",
       "resolved": "https://registry.npmjs.org/ee-first/-/ee-first-1.1.1.tgz",
       "integrity": "sha512-WMwm9LhRUo+WUaRN+vRuETqG89IgZphVSNkdFgeb6sS/E4OrDIN7t48CAewSHXc6C8lefD8KKfr5vY61brQlow==",
       "license": "MIT"
     },
+    "node_modules/emoji-regex": {
+      "version": "9.2.2",
+      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-9.2.2.tgz",
+      "integrity": "sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/encodeurl": {
       "version": "2.0.0",
       "resolved": "https://registry.npmjs.org/encodeurl/-/encodeurl-2.0.0.tgz",
@@ -2111,7 +2327,6 @@
       "deprecated": "This version is no longer supported. Please see https://eslint.org/version-support for other options.",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "dependencies": {
         "@eslint-community/eslint-utils": "^4.2.0",
         "@eslint-community/regexpp": "^4.6.1",
@@ -2544,6 +2759,23 @@
       "dev": true,
       "license": "ISC"
     },
+    "node_modules/foreground-child": {
+      "version": "3.3.1",
+      "resolved": "https://registry.npmjs.org/foreground-child/-/foreground-child-3.3.1.tgz",
+      "integrity": "sha512-gIXjKqtFuWEgzFRJA9WCQeSJLZDjgJUOMCMzxtvFq/37KojM1BFGufqsCy0r4qSQmYLsZYMeyRqzIWOMup03sw==",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "cross-spawn": "^7.0.6",
+        "signal-exit": "^4.0.1"
+      },
+      "engines": {
+        "node": ">=14"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      }
+    },
     "node_modules/forwarded": {
       "version": "0.2.0",
       "resolved": "https://registry.npmjs.org/forwarded/-/forwarded-0.2.0.tgz",
@@ -2791,6 +3023,13 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/html-escaper": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/html-escaper/-/html-escaper-2.0.2.tgz",
+      "integrity": "sha512-H2iMtd0I4Mt5eYiapRdIDjp+XzelXQ0tFE4JS7YFwFevXXMmOp9myNrUvCg0D6ws8iqkRPBfKHgbwig1SmlLfg==",
+      "dev": true,
+      "license": "MIT"
+    },
     "node_modules/http-errors": {
       "version": "2.0.1",
       "resolved": "https://registry.npmjs.org/http-errors/-/http-errors-2.0.1.tgz",
@@ -2923,6 +3162,16 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/is-fullwidth-code-point": {
+      "version": "3.0.0",
+      "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
+      "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/is-glob": {
       "version": "4.0.3",
       "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz",
@@ -2963,6 +3212,76 @@
       "dev": true,
       "license": "ISC"
     },
+    "node_modules/istanbul-lib-coverage": {
+      "version": "3.2.2",
+      "resolved": "https://registry.npmjs.org/istanbul-lib-coverage/-/istanbul-lib-coverage-3.2.2.tgz",
+      "integrity": "sha512-O8dpsF+r0WV/8MNRKfnmrtCWhuKjxrq2w+jpzBL5UZKTi2LeVWnWOmWRxFlesJONmc+wLAGvKQZEOanko0LFTg==",
+      "dev": true,
+      "license": "BSD-3-Clause",
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/istanbul-lib-report": {
+      "version": "3.0.1",
+      "resolved": "https://registry.npmjs.org/istanbul-lib-report/-/istanbul-lib-report-3.0.1.tgz",
+      "integrity": "sha512-GCfE1mtsHGOELCU8e/Z7YWzpmybrx/+dSTfLrvY8qRmaY6zXTKWn6WQIjaAFw069icm6GVMNkgu0NzI4iPZUNw==",
+      "dev": true,
+      "license": "BSD-3-Clause",
+      "dependencies": {
+        "istanbul-lib-coverage": "^3.0.0",
+        "make-dir": "^4.0.0",
+        "supports-color": "^7.1.0"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/istanbul-lib-source-maps": {
+      "version": "5.0.6",
+      "resolved": "https://registry.npmjs.org/istanbul-lib-source-maps/-/istanbul-lib-source-maps-5.0.6.tgz",
+      "integrity": "sha512-yg2d+Em4KizZC5niWhQaIomgf5WlL4vOOjZ5xGCmF8SnPE/mDWWXgvRExdcpCgh9lLRRa1/fSYp2ymmbJ1pI+A==",
+      "dev": true,
+      "license": "BSD-3-Clause",
+      "dependencies": {
+        "@jridgewell/trace-mapping": "^0.3.23",
+        "debug": "^4.1.1",
+        "istanbul-lib-coverage": "^3.0.0"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/istanbul-reports": {
+      "version": "3.2.0",
+      "resolved": "https://registry.npmjs.org/istanbul-reports/-/istanbul-reports-3.2.0.tgz",
+      "integrity": "sha512-HGYWWS/ehqTV3xN10i23tkPkpH46MLCIMFNCaaKNavAXTF1RkqxawEPtnjnGZ6XKSInBKkiOA5BKS+aZiY3AvA==",
+      "dev": true,
+      "license": "BSD-3-Clause",
+      "dependencies": {
+        "html-escaper": "^2.0.0",
+        "istanbul-lib-report": "^3.0.0"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/jackspeak": {
+      "version": "3.4.3",
+      "resolved": "https://registry.npmjs.org/jackspeak/-/jackspeak-3.4.3.tgz",
+      "integrity": "sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw==",
+      "dev": true,
+      "license": "BlueOak-1.0.0",
+      "dependencies": {
+        "@isaacs/cliui": "^8.0.2"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      },
+      "optionalDependencies": {
+        "@pkgjs/parseargs": "^0.11.0"
+      }
+    },
     "node_modules/js-yaml": {
       "version": "4.1.1",
       "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-4.1.1.tgz",
@@ -3051,6 +3370,13 @@
       "dev": true,
       "license": "MIT"
     },
+    "node_modules/lru-cache": {
+      "version": "10.4.3",
+      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
+      "integrity": "sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==",
+      "dev": true,
+      "license": "ISC"
+    },
     "node_modules/magic-string": {
       "version": "0.30.21",
       "resolved": "https://registry.npmjs.org/magic-string/-/magic-string-0.30.21.tgz",
@@ -3061,6 +3387,34 @@
         "@jridgewell/sourcemap-codec": "^1.5.5"
       }
     },
+    "node_modules/magicast": {
+      "version": "0.3.5",
+      "resolved": "https://registry.npmjs.org/magicast/-/magicast-0.3.5.tgz",
+      "integrity": "sha512-L0WhttDl+2BOsybvEOLK7fW3UA0OQ0IQ2d6Zl2x/a6vVRs3bAY0ECOSHHeL5jD+SbOpOCUEi0y1DgHEn9Qn1AQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "@babel/parser": "^7.25.4",
+        "@babel/types": "^7.25.4",
+        "source-map-js": "^1.2.0"
+      }
+    },
+    "node_modules/make-dir": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/make-dir/-/make-dir-4.0.0.tgz",
+      "integrity": "sha512-hXdUTZYIVOt1Ex//jAQi+wTZZpUpwBj/0QsOzqegb3rGMMeJiSEu5xLHnYfBrRV4RH2+OCSOO95Is/7x1WJ4bw==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "semver": "^7.5.3"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
     "node_modules/math-intrinsics": {
       "version": "1.1.0",
       "resolved": "https://registry.npmjs.org/math-intrinsics/-/math-intrinsics-1.1.0.tgz",
@@ -3191,6 +3545,16 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/minipass": {
+      "version": "7.1.2",
+      "resolved": "https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz",
+      "integrity": "sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==",
+      "dev": true,
+      "license": "ISC",
+      "engines": {
+        "node": ">=16 || 14 >=14.17"
+      }
+    },
     "node_modules/mkdirp-classic": {
       "version": "0.5.3",
       "resolved": "https://registry.npmjs.org/mkdirp-classic/-/mkdirp-classic-0.5.3.tgz",
@@ -3339,6 +3703,13 @@
         "url": "https://github.com/sponsors/sindresorhus"
       }
     },
+    "node_modules/package-json-from-dist": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/package-json-from-dist/-/package-json-from-dist-1.0.1.tgz",
+      "integrity": "sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw==",
+      "dev": true,
+      "license": "BlueOak-1.0.0"
+    },
     "node_modules/parent-module": {
       "version": "1.0.1",
       "resolved": "https://registry.npmjs.org/parent-module/-/parent-module-1.0.1.tgz",
@@ -3391,6 +3762,23 @@
         "node": ">=8"
       }
     },
+    "node_modules/path-scurry": {
+      "version": "1.11.1",
+      "resolved": "https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz",
+      "integrity": "sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==",
+      "dev": true,
+      "license": "BlueOak-1.0.0",
+      "dependencies": {
+        "lru-cache": "^10.2.0",
+        "minipass": "^5.0.0 || ^6.0.2 || ^7.0.0"
+      },
+      "engines": {
+        "node": ">=16 || 14 >=14.18"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      }
+    },
     "node_modules/path-to-regexp": {
       "version": "0.1.12",
       "resolved": "https://registry.npmjs.org/path-to-regexp/-/path-to-regexp-0.1.12.tgz",
@@ -3947,6 +4335,19 @@
       "dev": true,
       "license": "ISC"
     },
+    "node_modules/signal-exit": {
+      "version": "4.1.0",
+      "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-4.1.0.tgz",
+      "integrity": "sha512-bzyZ1e88w9O1iNJbKnOlvYTrWPDl46O1bG0D3XInv+9tkPrxrN8jUUTiFlDkkmKWgn1M6CfIA13SuGqOa9Korw==",
+      "dev": true,
+      "license": "ISC",
+      "engines": {
+        "node": ">=14"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      }
+    },
     "node_modules/simple-concat": {
       "version": "1.0.1",
       "resolved": "https://registry.npmjs.org/simple-concat/-/simple-concat-1.0.1.tgz",
@@ -4044,6 +4445,76 @@
         "safe-buffer": "~5.2.0"
       }
     },
+    "node_modules/string-width": {
+      "version": "5.1.2",
+      "resolved": "https://registry.npmjs.org/string-width/-/string-width-5.1.2.tgz",
+      "integrity": "sha512-HnLOCR3vjcY8beoNLtcjZ5/nxn2afmME6lhrDrebokqMap+XbeW8n9TXpPDOqdGK5qcI3oT0GKTW6wC7EMiVqA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "eastasianwidth": "^0.2.0",
+        "emoji-regex": "^9.2.2",
+        "strip-ansi": "^7.0.1"
+      },
+      "engines": {
+        "node": ">=12"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/string-width-cjs": {
+      "name": "string-width",
+      "version": "4.2.3",
+      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
+      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "emoji-regex": "^8.0.0",
+        "is-fullwidth-code-point": "^3.0.0",
+        "strip-ansi": "^6.0.1"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/string-width-cjs/node_modules/emoji-regex": {
+      "version": "8.0.0",
+      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
+      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/string-width/node_modules/ansi-regex": {
+      "version": "6.2.2",
+      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.2.2.tgz",
+      "integrity": "sha512-Bq3SmSpyFHaWjPk8If9yc6svM8c56dB5BAtW4Qbw5jHTwwXXcTLoRMkpDJp6VL0XzlWaCHTXrkFURMYmD0sLqg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=12"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/ansi-regex?sponsor=1"
+      }
+    },
+    "node_modules/string-width/node_modules/strip-ansi": {
+      "version": "7.1.2",
+      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.2.tgz",
+      "integrity": "sha512-gmBGslpoQJtgnMAvOVqGZpEz9dyoKTCzy2nfz/n8aIFhN/jCE/rCmcxabB6jOOHV+0WNnylOxaxBQPSvcWklhA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "ansi-regex": "^6.0.1"
+      },
+      "engines": {
+        "node": ">=12"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/strip-ansi?sponsor=1"
+      }
+    },
     "node_modules/strip-ansi": {
       "version": "6.0.1",
       "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
@@ -4057,6 +4528,20 @@
         "node": ">=8"
       }
     },
+    "node_modules/strip-ansi-cjs": {
+      "name": "strip-ansi",
+      "version": "6.0.1",
+      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
+      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "ansi-regex": "^5.0.1"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/strip-json-comments": {
       "version": "3.1.1",
       "resolved": "https://registry.npmjs.org/strip-json-comments/-/strip-json-comments-3.1.1.tgz",
@@ -4111,6 +4596,43 @@
         "node": ">=6"
       }
     },
+    "node_modules/test-exclude": {
+      "version": "7.0.1",
+      "resolved": "https://registry.npmjs.org/test-exclude/-/test-exclude-7.0.1.tgz",
+      "integrity": "sha512-pFYqmTw68LXVjeWJMST4+borgQP2AyMNbg1BpZh9LbyhUeNkeaPF9gzfPGUAnSMV3qPYdWUwDIjjCLiSDOl7vg==",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "@istanbuljs/schema": "^0.1.2",
+        "glob": "^10.4.1",
+        "minimatch": "^9.0.4"
+      },
+      "engines": {
+        "node": ">=18"
+      }
+    },
+    "node_modules/test-exclude/node_modules/glob": {
+      "version": "10.5.0",
+      "resolved": "https://registry.npmjs.org/glob/-/glob-10.5.0.tgz",
+      "integrity": "sha512-DfXN8DfhJ7NH3Oe7cFmu3NCu1wKbkReJ8TorzSAFbSKrlNaQSKfIzqYqVY8zlbs2NLBbWpRiU52GX2PbaBVNkg==",
+      "deprecated": "Old versions of glob are not supported, and contain widely publicized security vulnerabilities, which have been fixed in the current version. Please update. Support for old versions may be purchased (at exorbitant rates) by contacting i@izs.me",
+      "dev": true,
+      "license": "ISC",
+      "dependencies": {
+        "foreground-child": "^3.1.0",
+        "jackspeak": "^3.1.2",
+        "minimatch": "^9.0.4",
+        "minipass": "^7.1.2",
+        "package-json-from-dist": "^1.0.0",
+        "path-scurry": "^1.11.1"
+      },
+      "bin": {
+        "glob": "dist/esm/bin.mjs"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      }
+    },
     "node_modules/text-table": {
       "version": "0.2.0",
       "resolved": "https://registry.npmjs.org/text-table/-/text-table-0.2.0.tgz",
@@ -4254,7 +4776,6 @@
       "integrity": "sha512-jl1vZzPDinLr9eUt3J/t7V6FgNEw9QjvBPdysz9KfQDD41fQrC2Y4vKQdiaUpFT4bXlb1RHhLpp8wtm6M5TgSw==",
       "dev": true,
       "license": "Apache-2.0",
-      "peer": true,
       "bin": {
         "tsc": "bin/tsc",
         "tsserver": "bin/tsserver"
@@ -4518,6 +5039,107 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/wrap-ansi": {
+      "version": "8.1.0",
+      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-8.1.0.tgz",
+      "integrity": "sha512-si7QWI6zUMq56bESFvagtmzMdGOtoxfR+Sez11Mobfc7tm+VkUckk9bW2UeffTGVUbOksxmSw0AA2gs8g71NCQ==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "ansi-styles": "^6.1.0",
+        "string-width": "^5.0.1",
+        "strip-ansi": "^7.0.1"
+      },
+      "engines": {
+        "node": ">=12"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
+      }
+    },
+    "node_modules/wrap-ansi-cjs": {
+      "name": "wrap-ansi",
+      "version": "7.0.0",
+      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
+      "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "ansi-styles": "^4.0.0",
+        "string-width": "^4.1.0",
+        "strip-ansi": "^6.0.0"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
+      }
+    },
+    "node_modules/wrap-ansi-cjs/node_modules/emoji-regex": {
+      "version": "8.0.0",
+      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
+      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
+      "dev": true,
+      "license": "MIT"
+    },
+    "node_modules/wrap-ansi-cjs/node_modules/string-width": {
+      "version": "4.2.3",
+      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
+      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "emoji-regex": "^8.0.0",
+        "is-fullwidth-code-point": "^3.0.0",
+        "strip-ansi": "^6.0.1"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/wrap-ansi/node_modules/ansi-regex": {
+      "version": "6.2.2",
+      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.2.2.tgz",
+      "integrity": "sha512-Bq3SmSpyFHaWjPk8If9yc6svM8c56dB5BAtW4Qbw5jHTwwXXcTLoRMkpDJp6VL0XzlWaCHTXrkFURMYmD0sLqg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=12"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/ansi-regex?sponsor=1"
+      }
+    },
+    "node_modules/wrap-ansi/node_modules/ansi-styles": {
+      "version": "6.2.3",
+      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-6.2.3.tgz",
+      "integrity": "sha512-4Dj6M28JB+oAH8kFkTLUo+a2jwOFkuqb3yucU0CANcRRUbxS0cP0nZYCGjcc3BNXwRIsUVmDGgzawme7zvJHvg==",
+      "dev": true,
+      "license": "MIT",
+      "engines": {
+        "node": ">=12"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
+      }
+    },
+    "node_modules/wrap-ansi/node_modules/strip-ansi": {
+      "version": "7.1.2",
+      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.2.tgz",
+      "integrity": "sha512-gmBGslpoQJtgnMAvOVqGZpEz9dyoKTCzy2nfz/n8aIFhN/jCE/rCmcxabB6jOOHV+0WNnylOxaxBQPSvcWklhA==",
+      "dev": true,
+      "license": "MIT",
+      "dependencies": {
+        "ansi-regex": "^6.0.1"
+      },
+      "engines": {
+        "node": ">=12"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/strip-ansi?sponsor=1"
+      }
+    },
     "node_modules/wrappy": {
       "version": "1.0.2",
       "resolved": "https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz",
diff --git a/src/analytics/index.ts b/src/analytics/index.ts
new file mode 100644
index 0000000..ee3dee6
--- /dev/null
+++ b/src/analytics/index.ts
@@ -0,0 +1,80 @@
+import { EventBus } from '../bus.js';
+import { AnalyticsService, Events, PaymentProcessedEvent, OrderCreatedEvent, CartUpdatedEvent, PaymentStatus } from '../types.js';
+
+export function createAnalyticsService(bus: EventBus): AnalyticsService {
+  const eventCounts = new Map<string, number>();
+  let revenue = 0;
+  const uniqueCarts = new Set<string>();
+  let orderCount = 0;
+  const productOrderQuantities = new Map<string, number>();
+  const cartItems = new Map<string, Array<{ productId: string; quantity: number }>>();
+
+  // Helper to increment event counts
+  const incrementEventCount = (eventType: string) => {
+    eventCounts.set(eventType, (eventCounts.get(eventType) || 0) + 1);
+  };
+
+  // Listen to all events if possible, but EventBus doesn't have a wildcard listener.
+  // We have to subscribe to each event type defined in Events.
+  Object.values(Events).forEach((eventType) => {
+    bus.on(eventType as string, () => {
+      incrementEventCount(eventType as string);
+    });
+  });
+
+  bus.on(Events.PAYMENT_PROCESSED, () => {
+    // We need the amount, but it's not in the event payload... 
+    // Wait, let me check OrderCreatedEvent or PaymentProcessedEvent again.
+    // OrderCreatedEvent has total. PaymentProcessedEvent does NOT.
+    // I should track order totals.
+  });
+
+  const orderTotals = new Map<string, number>();
+  bus.on(Events.ORDER_CREATED, (payload: unknown) => {
+    const { orderId, total, cartId } = payload as OrderCreatedEvent;
+    orderTotals.set(orderId, total);
+    orderCount++;
+    
+    // Track product quantities
+    const items = cartItems.get(cartId) || [];
+    items.forEach((item) => {
+      productOrderQuantities.set(item.productId, (productOrderQuantities.get(item.productId) || 0) + item.quantity);
+    });
+  });
+
+  bus.on(Events.PAYMENT_PROCESSED, (payload: unknown) => {
+    const { status, orderId } = payload as PaymentProcessedEvent;
+    if (status === PaymentStatus.SUCCESS) {
+      const total = orderTotals.get(orderId) || 0;
+      revenue += total;
+    }
+  });
+
+  bus.on(Events.CART_UPDATED, (payload: unknown) => {
+    const { cartId, items } = payload as CartUpdatedEvent;
+    uniqueCarts.add(cartId);
+    cartItems.set(cartId, items);
+  });
+
+  return {
+    getEventCount(eventType: string): number {
+      return eventCounts.get(eventType) || 0;
+    },
+
+    getRevenue(): number {
+      return revenue;
+    },
+
+    getConversionRate(): number {
+      if (uniqueCarts.size === 0) return 0;
+      return orderCount / uniqueCarts.size;
+    },
+
+    getTopProducts(limit: number): Array<{ productId: string; count: number }> {
+      return Array.from(productOrderQuantities.entries())
+        .map(([productId, count]) => ({ productId, count }))
+        .sort((a, b) => b.count - a.count)
+        .slice(0, limit);
+    },
+  };
+}
diff --git a/src/cart/index.ts b/src/cart/index.ts
new file mode 100644
index 0000000..fe46609
--- /dev/null
+++ b/src/cart/index.ts
@@ -0,0 +1,79 @@
+import { EventBus } from '../bus.js';
+import { CartService, Events, CartUpdatedEvent } from '../types.js';
+
+export function createCartService(bus: EventBus): CartService {
+  const carts = new Map<string, { id: string; userId: string; items: Map<string, number> }>();
+
+  const emitCartUpdated = (cartId: string) => {
+    const cart = carts.get(cartId);
+    if (cart) {
+      bus.emit(Events.CART_UPDATED, {
+        cartId,
+        userId: cart.userId,
+        items: Array.from(cart.items.entries()).map(([productId, quantity]) => ({
+          productId,
+          quantity,
+        })),
+      } as CartUpdatedEvent);
+    }
+  };
+
+  return {
+    createCart(userId: string): string {
+      const cartId = Math.random().toString(36).substring(2, 9);
+      carts.set(cartId, { id: cartId, userId, items: new Map() });
+      emitCartUpdated(cartId);
+      return cartId;
+    },
+
+    addItem(cartId: string, productId: string, quantity: number): void {
+      const cart = carts.get(cartId);
+      if (cart) {
+        const current = cart.items.get(productId) || 0;
+        cart.items.set(productId, current + quantity);
+        emitCartUpdated(cartId);
+      }
+    },
+
+    removeItem(cartId: string, productId: string): void {
+      const cart = carts.get(cartId);
+      if (cart && cart.items.has(productId)) {
+        cart.items.delete(productId);
+        emitCartUpdated(cartId);
+      }
+    },
+
+    getCart(cartId: string) {
+      const cart = carts.get(cartId);
+      if (!cart) return null;
+      return {
+        id: cart.id,
+        userId: cart.userId,
+        items: Array.from(cart.items.entries()).map(([productId, quantity]) => ({
+          productId,
+          quantity,
+        })),
+      };
+    },
+
+    clearCart(cartId: string): void {
+      const cart = carts.get(cartId);
+      if (cart) {
+        cart.items.clear();
+        emitCartUpdated(cartId);
+      }
+    },
+
+    updateQuantity(cartId: string, productId: string, quantity: number): void {
+      const cart = carts.get(cartId);
+      if (cart) {
+        if (quantity <= 0) {
+          cart.items.delete(productId);
+        } else {
+          cart.items.set(productId, quantity);
+        }
+        emitCartUpdated(cartId);
+      }
+    },
+  };
+}
diff --git a/src/catalog/index.ts b/src/catalog/index.ts
new file mode 100644
index 0000000..844f025
--- /dev/null
+++ b/src/catalog/index.ts
@@ -0,0 +1,53 @@
+import { EventBus } from '../bus.js';
+import { CatalogService, Events, ProductCreatedEvent } from '../types.js';
+
+export function createCatalogService(bus: EventBus): CatalogService {
+  const products = new Map<string, { id: string; name: string; price: number; category: string }>();
+
+  return {
+    createProduct(name: string, price: number, category: string): string {
+      const productId = Math.random().toString(36).substring(2, 9);
+      const product = { id: productId, name, price, category };
+      products.set(productId, product);
+
+      bus.emit(Events.PRODUCT_CREATED, {
+        productId,
+        name,
+        price,
+        category,
+      } as ProductCreatedEvent);
+
+      return productId;
+    },
+
+    getProduct(productId: string) {
+      return products.get(productId) || null;
+    },
+
+    listProducts(category?: string) {
+      const allProducts = Array.from(products.values());
+      if (category) {
+        return allProducts.filter((p) => p.category === category);
+      }
+      return allProducts;
+    },
+
+    searchProducts(query: string) {
+      const lowQuery = query.toLowerCase();
+      return Array.from(products.values()).filter(
+        (p) => p.name.toLowerCase().includes(lowQuery) || p.category.toLowerCase().includes(lowQuery)
+      );
+    },
+
+    updateProduct(productId: string, updates: Partial<{ name: string; price: number; category: string }>): void {
+      const product = products.get(productId);
+      if (product) {
+        products.set(productId, { ...product, ...updates });
+      }
+    },
+
+    removeProduct(productId: string): boolean {
+      return products.delete(productId);
+    },
+  };
+}
diff --git a/src/index.ts b/src/index.ts
new file mode 100644
index 0000000..e43f997
--- /dev/null
+++ b/src/index.ts
@@ -0,0 +1,10 @@
+export * from './catalog/index.js';
+export * from './inventory/index.js';
+export * from './cart/index.js';
+export * from './pricing/index.js';
+export * from './orders/index.js';
+export * from './payment/index.js';
+export * from './notifications/index.js';
+export * from './analytics/index.js';
+export { EventBus } from './bus.js';
+export * from './types.js';
diff --git a/src/integration.test.ts b/src/integration.test.ts
new file mode 100644
index 0000000..bafd5e3
--- /dev/null
+++ b/src/integration.test.ts
@@ -0,0 +1,110 @@
+import { describe, it, expect, beforeEach } from 'vitest';
+import { EventBus } from './bus.js';
+import {
+  createCatalogService,
+  createInventoryService,
+  createCartService,
+  createPricingService,
+  createOrderService,
+  createPaymentService,
+  createNotificationService,
+  createAnalyticsService,
+  OrderStatus,
+  PaymentStatus,
+  Events,
+  CatalogService,
+  InventoryService,
+  CartService,
+  PricingService,
+  OrderService,
+  PaymentService,
+  NotificationService,
+  AnalyticsService
+} from './index.js';
+
+describe('E-Commerce Backend Integration', () => {
+  let bus: EventBus;
+  let catalog: CatalogService;
+  let inventory: InventoryService;
+  let cart: CartService;
+  let pricing: PricingService;
+  let orders: OrderService;
+  let payment: PaymentService;
+  let notifications: NotificationService;
+  let analytics: AnalyticsService;
+
+  beforeEach(() => {
+    bus = new EventBus();
+    catalog = createCatalogService(bus);
+    inventory = createInventoryService(bus);
+    cart = createCartService(bus);
+    pricing = createPricingService(bus);
+    orders = createOrderService(bus);
+    payment = createPaymentService(bus);
+    notifications = createNotificationService(bus);
+    analytics = createAnalyticsService(bus);
+  });
+
+  it('should complete a full checkout flow', async () => {
+    // 1. Create a product
+    const productId = catalog.createProduct('Laptop', 1000, 'Electronics');
+    expect(productId).toBeDefined();
+
+    // 2. Set stock
+    inventory.setStock(productId, 5);
+    expect(inventory.getStock(productId)).toBe(5);
+
+    // 3. Create a cart and add item
+    const userId = 'user123';
+    notifications.subscribe(userId);
+    const cartId = cart.createCart(userId);
+    await new Promise(r => setTimeout(r, 50));
+    cart.addItem(cartId, productId, 1);
+    await new Promise(r => setTimeout(r, 50));
+
+    const cartData = cart.getCart(cartId);
+    expect(cartData!.items).toHaveLength(1);
+    expect(cartData!.items[0].productId).toBe(productId);
+
+    // 4. Calculate price
+    const priceInfo = pricing.calculateTotal([{ productId, quantity: 1, price: 1000 }]);
+    expect(priceInfo.total).toBe(1100); // 1000 + 10% tax
+
+    // 5. Create order
+    const orderId = orders.createOrder(userId, cartId, priceInfo.total);
+    expect(orderId).toBeDefined();
+    await new Promise(r => setTimeout(r, 50));
+
+    // 6. Process payment
+    const paymentResult = await payment.processPayment(orderId, priceInfo.total);
+    expect(paymentResult.status).toBe(PaymentStatus.SUCCESS);
+    await new Promise(r => setTimeout(r, 50));
+
+    // 7. Update order status
+    orders.updateStatus(orderId, OrderStatus.CONFIRMED);
+    await new Promise(r => setTimeout(r, 50));
+
+    // 8. Verify notifications
+    const userNotifications = notifications.getNotifications(userId);
+    expect(userNotifications.some((n) => n.message.toLowerCase().includes('confirmed'))).toBe(true);
+
+    // 9. Verify analytics
+    expect(analytics.getRevenue()).toBe(1100);
+    expect(analytics.getConversionRate()).toBe(1);
+    expect(analytics.getTopProducts(1)[0].productId).toBe(productId);
+  });
+
+  it('should handle low stock alerts', async () => {
+    const productId = catalog.createProduct('Mouse', 20, 'Accessories');
+    inventory.setLowStockThreshold(productId, 2);
+    
+    let alertEmitted = false;
+    bus.on(Events.LOW_STOCK_ALERT, () => {
+      alertEmitted = true;
+    });
+
+    inventory.setStock(productId, 1);
+    await new Promise(r => setTimeout(r, 50));
+    expect(alertEmitted).toBe(true);
+  });
+});
diff --git a/src/inventory/index.ts b/src/inventory/index.ts
new file mode 100644
index 0000000..680ace6
--- /dev/null
+++ b/src/inventory/index.ts
@@ -0,0 +1,65 @@
+import { EventBus } from '../bus.js';
+import { InventoryService, Events, InventoryUpdatedEvent, LowStockAlertEvent } from '../types.js';
+
+export function createInventoryService(bus: EventBus): InventoryService {
+  const stock = new Map<string, number>();
+  const thresholds = new Map<string, number>();
+
+  const checkLowStock = (productId: string, currentQuantity: number) => {
+    const threshold = thresholds.get(productId);
+    if (threshold !== undefined && currentQuantity < threshold) {
+      bus.emit(Events.LOW_STOCK_ALERT, {
+        productId,
+        currentQuantity,
+        threshold,
+      } as LowStockAlertEvent);
+    }
+  };
+
+  return {
+    setStock(productId: string, quantity: number): void {
+      stock.set(productId, quantity);
+      bus.emit(Events.INVENTORY_UPDATED, {
+        productId,
+        quantity,
+      } as InventoryUpdatedEvent);
+      checkLowStock(productId, quantity);
+    },
+
+    getStock(productId: string): number {
+      return stock.get(productId) || 0;
+    },
+
+    reserve(productId: string, quantity: number): boolean {
+      const current = stock.get(productId) || 0;
+      if (current >= quantity) {
+        const newQuantity = current - quantity;
+        stock.set(productId, newQuantity);
+        bus.emit(Events.INVENTORY_UPDATED, {
+          productId,
+          quantity: newQuantity,
+        } as InventoryUpdatedEvent);
+        checkLowStock(productId, newQuantity);
+        return true;
+      }
+      return false;
+    },
+
+    release(productId: string, quantity: number): void {
+      const current = stock.get(productId) || 0;
+      const newQuantity = current + quantity;
+      stock.set(productId, newQuantity);
+      bus.emit(Events.INVENTORY_UPDATED, {
+        productId,
+        quantity: newQuantity,
+      } as InventoryUpdatedEvent);
+      // Releasing stock might move it above threshold, but the requirement says "alert when stock falls below"
+      // So no need to check low stock here, but it doesn't hurt.
+    },
+
+    setLowStockThreshold(productId: string, threshold: number): void {
+      thresholds.set(productId, threshold);
+      checkLowStock(productId, stock.get(productId) || 0);
+    },
+  };
+}
diff --git a/src/notifications/index.ts b/src/notifications/index.ts
new file mode 100644
index 0000000..3342409
--- /dev/null
+++ b/src/notifications/index.ts
@@ -0,0 +1,54 @@
+import { EventBus } from '../bus.js';
+import { NotificationService, Events, OrderCreatedEvent, OrderStatusChangedEvent, PaymentProcessedEvent, NotificationSentEvent } from '../types.js';
+
+export function createNotificationService(bus: EventBus): NotificationService {
+  const subscriptions = new Set<string>();
+  const notifications = new Map<string, Array<{ type: string; message: string; timestamp: number }>>();
+  const orderToUser = new Map<string, string>();
+
+  const addNotification = (userId: string, type: string, message: string) => {
+    if (!subscriptions.has(userId)) return;
+
+    const userNotifications = notifications.get(userId) || [];
+    const notification = { type, message, timestamp: Date.now() };
+    userNotifications.push(notification);
+    notifications.set(userId, userNotifications);
+
+    bus.emit(Events.NOTIFICATION_SENT, {
+      userId,
+      type,
+      message,
+    } as NotificationSentEvent);
+  };
+
+  bus.on(Events.ORDER_CREATED, (payload: unknown) => {
+    const { orderId, userId } = payload as OrderCreatedEvent;
+    orderToUser.set(orderId, userId);
+  });
+
+  bus.on(Events.ORDER_STATUS_CHANGED, (payload: unknown) => {
+    const { orderId, status } = payload as OrderStatusChangedEvent;
+    const userId = orderToUser.get(orderId);
+    if (userId) {
+      addNotification(userId, 'order_status', `Order ${orderId} is now ${status}`);
+    }
+  });
+
+  bus.on(Events.PAYMENT_PROCESSED, (payload: unknown) => {
+    const { orderId, status } = payload as PaymentProcessedEvent;
+    const userId = orderToUser.get(orderId);
+    if (userId) {
+      addNotification(userId, 'payment', `Payment for order ${orderId} was ${status}`);
+    }
+  });
+
+  return {
+    subscribe(userId: string): void {
+      subscriptions.add(userId);
+    },
+
+    getNotifications(userId: string) {
+      return notifications.get(userId) || [];
+    },
+  };
+}
diff --git a/src/orders/index.ts b/src/orders/index.ts
new file mode 100644
index 0000000..49e8b66
--- /dev/null
+++ b/src/orders/index.ts
@@ -0,0 +1,57 @@
+import { EventBus } from '../bus.js';
+import { OrderService, OrderStatus, Events, OrderCreatedEvent, OrderStatusChangedEvent } from '../types.js';
+
+export function createOrderService(bus: EventBus): OrderService {
+  const orders = new Map<string, { id: string; userId: string; cartId: string; status: OrderStatus; total: number }>();
+
+  return {
+    createOrder(userId: string, cartId: string, total: number): string {
+      const orderId = Math.random().toString(36).substring(2, 9);
+      const order = { id: orderId, userId, cartId, status: OrderStatus.PENDING, total };
+      orders.set(orderId, order);
+
+      bus.emit(Events.ORDER_CREATED, {
+        orderId,
+        userId,
+        cartId,
+        total,
+      } as OrderCreatedEvent);
+
+      return orderId;
+    },
+
+    getOrder(orderId: string) {
+      const order = orders.get(orderId);
+      if (!order) return null;
+      return {
+        id: order.id,
+        userId: order.userId,
+        status: order.status,
+        total: order.total,
+      };
+    },
+
+    updateStatus(orderId: string, status: OrderStatus): void {
+      const order = orders.get(orderId);
+      if (order) {
+        const previousStatus = order.status;
+        order.status = status;
+        bus.emit(Events.ORDER_STATUS_CHANGED, {
+          orderId,
+          status,
+          previousStatus,
+        } as OrderStatusChangedEvent);
+      }
+    },
+
+    listOrders(userId: string) {
+      return Array.from(orders.values())
+        .filter((o) => o.userId === userId)
+        .map((o) => ({
+          id: o.id,
+          status: o.status,
+          total: o.total,
+        }));
+    },
+  };
+}
diff --git a/src/payment/index.ts b/src/payment/index.ts
new file mode 100644
index 0000000..0085982
--- /dev/null
+++ b/src/payment/index.ts
@@ -0,0 +1,53 @@
+import { EventBus } from '../bus.js';
+import { PaymentService, PaymentStatus, Events, PaymentProcessedEvent } from '../types.js';
+
+interface PaymentOptions {
+  simulation?: 'success' | 'failure' | 'timeout';
+}
+
+export function createPaymentService(bus: EventBus, options: PaymentOptions = {}): PaymentService {
+  const transactions = new Map<string, { orderId: string; amount: number; status: PaymentStatus }>();
+
+  return {
+    async processPayment(orderId: string, amount: number): Promise<{ status: PaymentStatus; transactionId?: string; error?: string }> {
+      const transactionId = Math.random().toString(36).substring(2, 9);
+      let status: PaymentStatus = PaymentStatus.SUCCESS;
+      let error: string | undefined;
+
+      const sim = options.simulation || 'success';
+
+      if (sim === 'failure') {
+        status = PaymentStatus.FAILED;
+        error = 'Payment failed';
+      } else if (sim === 'timeout') {
+        status = PaymentStatus.TIMEOUT;
+        error = 'Payment timed out';
+      }
+
+      transactions.set(transactionId, { orderId, amount, status });
+
+      await bus.emit(Events.PAYMENT_PROCESSED, {
+        orderId,
+        status,
+        transactionId: status === PaymentStatus.SUCCESS ? transactionId : undefined,
+        error,
+      } as PaymentProcessedEvent);
+
+      return {
+        status,
+        transactionId: status === PaymentStatus.SUCCESS ? transactionId : undefined,
+        error,
+      };
+    },
+
+    async refund(transactionId: string): Promise<boolean> {
+      const transaction = transactions.get(transactionId);
+      if (transaction && transaction.status === PaymentStatus.SUCCESS) {
+        // In a real system, we'd emit a refund event or update transaction status.
+        // For this task, we just need to support refunding successful transactions.
+        return true;
+      }
+      return false;
+    },
+  };
+}
diff --git a/src/pricing/index.ts b/src/pricing/index.ts
new file mode 100644
index 0000000..9646fb6
--- /dev/null
+++ b/src/pricing/index.ts
@@ -0,0 +1,44 @@
+import { EventBus } from '../bus.js';
+import { PricingService, Events, ProductCreatedEvent } from '../types.js';
+
+export function createPricingService(bus: EventBus): PricingService {
+  const productPrices = new Map<string, number>();
+  const discountCodes = new Map<string, number>();
+  const TAX_RATE = 0.1;
+
+  bus.on(Events.PRODUCT_CREATED, (payload: unknown) => {
+    const { productId, price } = payload as ProductCreatedEvent;
+    productPrices.set(productId, price);
+  });
+
+  return {
+    calculateTotal(items: Array<{ productId: string; quantity: number; price: number }>, discountCode?: string) {
+      const subtotal = items.reduce((sum, item) => sum + item.price * item.quantity, 0);
+      
+      let discount = 0;
+      if (discountCode) {
+        const percentage = discountCodes.get(discountCode) || 0;
+        discount = subtotal * (percentage / 100);
+      }
+
+      const taxableAmount = subtotal - discount;
+      const tax = taxableAmount * TAX_RATE;
+      const total = taxableAmount + tax;
+
+      return {
+        subtotal,
+        discount,
+        tax,
+        total,
+      };
+    },
+
+    addDiscountCode(code: string, percentage: number): void {
+      discountCodes.set(code, percentage);
+    },
+
+    getPrice(productId: string): number {
+      return productPrices.get(productId) || 0;
+    },
+  };
+}
