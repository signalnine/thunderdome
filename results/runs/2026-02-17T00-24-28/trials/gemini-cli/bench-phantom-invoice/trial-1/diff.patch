diff --git a/.gemini-output.json b/.gemini-output.json
new file mode 100644
index 0000000..d350868
--- /dev/null
+++ b/.gemini-output.json
@@ -0,0 +1,94 @@
+{
+  "session_id": "33cf03d5-ae17-4400-9bb7-294ebe55d6ba",
+  "response": "I've confirmed the code changes are correct and intentional, and although `package-lock.json` was modified during `npm install`, it's not an issue. I am now finished.\nThe bugs were fixed by:\n1.  Updating the formula in `calculateInvoiceTotal` in `src/services/billing.ts` to apply tax to the discounted subtotal instead of the original subtotal.\n2.  Changing the date range comparison in `getInvoicesByDateRange` in `src/db/queries.ts` from `<` to `<=` to make the end date inclusive.\n3.  Switching from `getMonth()` to `getUTCMonth()` in `getMonthlyReport` in `src/services/reporting.ts` to ensure consistent month grouping regardless of the system's local timezone.\n\nAll tests passed, and build/lint are successful.",
+  "stats": {
+    "models": {
+      "gemini-2.5-flash-lite": {
+        "api": {
+          "totalRequests": 2,
+          "totalErrors": 1,
+          "totalLatencyMs": 2738
+        },
+        "tokens": {
+          "input": 1358,
+          "prompt": 1358,
+          "candidates": 83,
+          "total": 1818,
+          "cached": 0,
+          "thoughts": 377,
+          "tool": 0
+        }
+      },
+      "gemini-3-flash-preview": {
+        "api": {
+          "totalRequests": 18,
+          "totalErrors": 5,
+          "totalLatencyMs": 48500
+        },
+        "tokens": {
+          "input": 38147,
+          "prompt": 163210,
+          "candidates": 1527,
+          "total": 168406,
+          "cached": 125063,
+          "thoughts": 3669,
+          "tool": 0
+        }
+      }
+    },
+    "tools": {
+      "totalCalls": 12,
+      "totalSuccess": 12,
+      "totalFail": 0,
+      "totalDurationMs": 10852,
+      "totalDecisions": {
+        "accept": 12,
+        "reject": 0,
+        "modify": 0,
+        "auto_accept": 0
+      },
+      "byName": {
+        "run_shell_command": {
+          "count": 4,
+          "success": 4,
+          "fail": 0,
+          "durationMs": 10833,
+          "decisions": {
+            "accept": 4,
+            "reject": 0,
+            "modify": 0,
+            "auto_accept": 0
+          }
+        },
+        "read_file": {
+          "count": 5,
+          "success": 5,
+          "fail": 0,
+          "durationMs": 9,
+          "decisions": {
+            "accept": 5,
+            "reject": 0,
+            "modify": 0,
+            "auto_accept": 0
+          }
+        },
+        "replace": {
+          "count": 3,
+          "success": 3,
+          "fail": 0,
+          "durationMs": 10,
+          "decisions": {
+            "accept": 3,
+            "reject": 0,
+            "modify": 0,
+            "auto_accept": 0
+          }
+        }
+      }
+    },
+    "files": {
+      "totalLinesAdded": 3,
+      "totalLinesRemoved": 3
+    }
+  }
+}
\ No newline at end of file
diff --git a/.thunderdome-metrics.json b/.thunderdome-metrics.json
new file mode 100644
index 0000000..39e4737
--- /dev/null
+++ b/.thunderdome-metrics.json
@@ -0,0 +1,10 @@
+{
+  "input_tokens": 39505,
+  "output_tokens": 1610,
+  "cache_read_tokens": 125063,
+  "cache_creation_tokens": 0,
+  "thought_tokens": 4046,
+  "turns": 12,
+  "total_cost_usd": -0.044632,
+  "note": "google-one-oauth-no-actual-cost"
+}
\ No newline at end of file
diff --git a/.thunderdome-stderr.log b/.thunderdome-stderr.log
new file mode 100644
index 0000000..5c33d36
--- /dev/null
+++ b/.thunderdome-stderr.log
@@ -0,0 +1,10 @@
+YOLO mode is enabled. All tool calls will be automatically approved.
+Loaded cached credentials.
+YOLO mode is enabled. All tool calls will be automatically approved.
+Hook registry initialized with 0 hook entries
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 983.828886ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 225.461147ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 1s.. Retrying after 1414.76223ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 222.492676ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 0s.. Retrying after 318.48498800000004ms...
+Attempt 1 failed: You have exhausted your capacity on this model. Your quota will reset after 2s.. Retrying after 2768.416167ms...
diff --git a/package-lock.json b/package-lock.json
index 9c810a0..3562a1e 100644
--- a/package-lock.json
+++ b/package-lock.json
@@ -1079,7 +1079,6 @@
       "integrity": "sha512-m0jEgYlYz+mDJZ2+F4v8D1AyQb+QzsNqRuI7xg1VQX/KlKS0qT9r1Mo16yo5F/MtifXFgaofIFsdFMox2SxIbQ==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "dependencies": {
         "undici-types": "~7.16.0"
       }
@@ -1195,7 +1194,6 @@
       "integrity": "sha512-4Z+L8I2OqhZV8qA132M4wNL30ypZGYOQVBfMgxDH/K5UX0PNqTu1c6za9ST5r9+tavvHiTWmBnKzpCJ/GlVFtg==",
       "dev": true,
       "license": "BSD-2-Clause",
-      "peer": true,
       "dependencies": {
         "@typescript-eslint/scope-manager": "7.18.0",
         "@typescript-eslint/types": "7.18.0",
@@ -1488,7 +1486,6 @@
       "integrity": "sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "bin": {
         "acorn": "bin/acorn"
       },
@@ -2246,7 +2243,6 @@
       "deprecated": "This version is no longer supported. Please see https://eslint.org/version-support for other options.",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "dependencies": {
         "@eslint-community/eslint-utils": "^4.2.0",
         "@eslint-community/regexpp": "^4.6.1",
@@ -4506,7 +4502,6 @@
       "integrity": "sha512-jl1vZzPDinLr9eUt3J/t7V6FgNEw9QjvBPdysz9KfQDD41fQrC2Y4vKQdiaUpFT4bXlb1RHhLpp8wtm6M5TgSw==",
       "dev": true,
       "license": "Apache-2.0",
-      "peer": true,
       "bin": {
         "tsc": "bin/tsc",
         "tsserver": "bin/tsserver"
diff --git a/src/db/queries.ts b/src/db/queries.ts
index 40c4307..ccea42d 100644
--- a/src/db/queries.ts
+++ b/src/db/queries.ts
@@ -11,7 +11,7 @@ export function getInvoicesByDateRange(
 ): Invoice[] {
   const stmt = db.prepare(`
     SELECT * FROM invoices
-    WHERE date >= ? AND date < ?
+    WHERE date >= ? AND date <= ?
     ORDER BY date ASC
   `);
   return stmt.all(startDate, endDate) as Invoice[];
diff --git a/src/services/billing.ts b/src/services/billing.ts
index b274692..3a1e841 100644
--- a/src/services/billing.ts
+++ b/src/services/billing.ts
@@ -15,7 +15,7 @@ export function calculateInvoiceTotal(
   taxRate: number,
 ): number {
   const discounted = subtotal * (1 - discountRate);
-  const total = discounted + subtotal * taxRate;
+  const total = discounted * (1 + taxRate);
   return Math.round(total * 100) / 100;
 }
 
diff --git a/src/services/reporting.ts b/src/services/reporting.ts
index 132a907..8fd136f 100644
--- a/src/services/reporting.ts
+++ b/src/services/reporting.ts
@@ -25,7 +25,7 @@ export function getMonthlyReport(
 
   for (const inv of invoices) {
     const d = new Date(inv.date + 'T00:00:00Z');
-    const month = d.getMonth() + 1; // 1-indexed
+    const month = d.getUTCMonth() + 1; // 1-indexed
 
     const current = monthlyMap.get(month) || { count: 0, total: 0 };
     current.count += 1;
