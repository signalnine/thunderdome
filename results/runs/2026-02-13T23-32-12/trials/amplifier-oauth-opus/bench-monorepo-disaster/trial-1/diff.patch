diff --git a/.amplifier/settings.local.yaml b/.amplifier/settings.local.yaml
new file mode 100644
index 0000000..aacbe16
--- /dev/null
+++ b/.amplifier/settings.local.yaml
@@ -0,0 +1,11 @@
+config:
+  providers:
+  - config:
+      api_key: ${ANTHROPIC_API_KEY}
+      base_url: https://api.anthropic.com
+      default_model: claude-opus-4-6
+      enable_1m_context: 'true'
+      enable_prompt_caching: 'true'
+      priority: 1
+    module: provider-anthropic
+    source: git+https://github.com/microsoft/amplifier-module-provider-anthropic@main
diff --git a/.env b/.env
deleted file mode 100644
index 6b77071..0000000
--- a/.env
+++ /dev/null
@@ -1,5 +0,0 @@
-DB_HOST=localhost
-DB_PORT=5432
-DB_USER=admin
-DB_PASSWORD=super_secret_password_123
-DB_NAME=monorepo_db
diff --git a/.gitignore b/.gitignore
index 5271e3b..d622ce1 100644
--- a/.gitignore
+++ b/.gitignore
@@ -3,5 +3,5 @@ dist/
 *.js.map
 *.d.ts.map
 *.tsbuildinfo
-# .env
+.env
 .DS_Store
diff --git a/.thunderdome-stderr.log b/.thunderdome-stderr.log
new file mode 100644
index 0000000..98e1a70
--- /dev/null
+++ b/.thunderdome-stderr.log
@@ -0,0 +1,10 @@
+
+[36mðŸ§  Thinking...[0m
+
+[36mðŸ§  Thinking...[0m
+
+[36mðŸ§  Thinking...[0m
+
+[36mðŸ§  Thinking...[0m
+
+[36mðŸ§  Thinking...[0m
diff --git a/package-lock.json b/package-lock.json
index d14c72e..f2d0482 100644
--- a/package-lock.json
+++ b/package-lock.json
@@ -1356,7 +1356,6 @@
       "integrity": "sha512-4Z+L8I2OqhZV8qA132M4wNL30ypZGYOQVBfMgxDH/K5UX0PNqTu1c6za9ST5r9+tavvHiTWmBnKzpCJ/GlVFtg==",
       "dev": true,
       "license": "BSD-2-Clause",
-      "peer": true,
       "dependencies": {
         "@typescript-eslint/scope-manager": "7.18.0",
         "@typescript-eslint/types": "7.18.0",
@@ -1773,7 +1772,6 @@
       "integrity": "sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "bin": {
         "acorn": "bin/acorn"
       },
@@ -2926,7 +2924,6 @@
       "deprecated": "This version is no longer supported. Please see https://eslint.org/version-support for other options.",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "dependencies": {
         "@eslint-community/eslint-utils": "^4.2.0",
         "@eslint-community/regexpp": "^4.6.1",
@@ -4711,7 +4708,6 @@
         }
       ],
       "license": "MIT",
-      "peer": true,
       "dependencies": {
         "nanoid": "^3.3.11",
         "picocolors": "^1.1.1",
@@ -5767,7 +5763,6 @@
       "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
       "dev": true,
       "license": "MIT",
-      "peer": true,
       "engines": {
         "node": ">=12"
       },
@@ -5938,7 +5933,6 @@
       "integrity": "sha512-jl1vZzPDinLr9eUt3J/t7V6FgNEw9QjvBPdysz9KfQDD41fQrC2Y4vKQdiaUpFT4bXlb1RHhLpp8wtm6M5TgSw==",
       "dev": true,
       "license": "Apache-2.0",
-      "peer": true,
       "bin": {
         "tsc": "bin/tsc",
         "tsserver": "bin/tsserver"
@@ -6229,9 +6223,9 @@
       }
     },
     "node_modules/zod": {
-      "version": "3.19.0",
-      "resolved": "https://registry.npmjs.org/zod/-/zod-3.19.0.tgz",
-      "integrity": "sha512-Yw0qvUsCNGBe5YacikdMt5gVYeUuaEFVDIHKMfElrGSaBhwR3CQK6vOzgfAJOjTdGIhEeoaj8GtT+NDZrepZbw==",
+      "version": "3.25.76",
+      "resolved": "https://registry.npmjs.org/zod/-/zod-3.25.76.tgz",
+      "integrity": "sha512-gzUt/qt81nXsFGKIFcC3YnfEAx5NkunCfnDlvuBSSFS02bcXu4Lmea0AFIUwbLWxWPx3d9p8S5QoaujKcNQxcQ==",
       "license": "MIT",
       "funding": {
         "url": "https://github.com/sponsors/colinhacks"
@@ -6256,7 +6250,7 @@
       "version": "1.0.0",
       "dependencies": {
         "better-sqlite3": "^11.0.0",
-        "zod": "3.19.0"
+        "zod": "^3.22.0"
       },
       "devDependencies": {
         "@types/better-sqlite3": "^7.6.0",
diff --git a/packages/api/src/routes/users.ts b/packages/api/src/routes/users.ts
index 1483c30..2f9f03a 100644
--- a/packages/api/src/routes/users.ts
+++ b/packages/api/src/routes/users.ts
@@ -4,7 +4,7 @@
 
 import { Router, type Request, type Response } from 'express';
 import {
-  createUser,
+  registerUser,
   getUserById,
   getAllUsers,
   validateCreateUser,
@@ -60,7 +60,7 @@ usersRouter.post('/', (req: Request, res: Response) => {
       return;
     }
 
-    const user = createUser(req.body);
+    const user = registerUser(req.body);
     res.status(201).json({ user });
   } catch (err) {
     if (err instanceof Error && err.message.includes('UNIQUE')) {
diff --git a/packages/api/tests/users.test.ts b/packages/api/tests/users.test.ts
index bfcbcae..170a6b2 100644
--- a/packages/api/tests/users.test.ts
+++ b/packages/api/tests/users.test.ts
@@ -11,21 +11,12 @@ describe('User Routes', () => {
     app = createApp();
   });
 
-<<<<<<< HEAD
-  it('creates user with valid data', async () => {
-    const res = await request(app)
-      .post('/users')
-      .set('x-user-role', 'admin')
-      .send({ name: 'Test', email: 'test@test.com' });
-    expect(res.status).toBe(201);
-=======
   it('registers user with valid data', async () => {
     const res = await request(app)
       .post('/users')
       .set('x-user-role', 'admin')
       .send({ name: 'Test', email: 'test@test.com', role: 'user' });
     expect(res.status).toBe(201);
->>>>>>> refactor/user-system
     expect(res.body.user.name).toBe('Test');
   });
 
diff --git a/packages/core/package.json b/packages/core/package.json
index 8922529..3fb5b13 100644
--- a/packages/core/package.json
+++ b/packages/core/package.json
@@ -8,7 +8,7 @@
     "build": "tsc"
   },
   "dependencies": {
-    "zod": "3.19.0",
+    "zod": "^3.22.0",
     "better-sqlite3": "^11.0.0"
   },
   "devDependencies": {
diff --git a/packages/core/src/types.ts b/packages/core/src/types.ts
index 69d527e..924873e 100644
--- a/packages/core/src/types.ts
+++ b/packages/core/src/types.ts
@@ -2,8 +2,6 @@
  * Shared types for the monorepo.
  */
 
-import { getUserById } from './user.js';
-
 export type Role = 'admin' | 'user' | 'viewer';
 
 export type Permission =
@@ -35,7 +33,4 @@ export interface UserFilters {
   offset?: number;
 }
 
-/** Utility to check if a user exists by ID */
-export function userExists(id: number): boolean {
-  return getUserById(id) !== null;
-}
+
diff --git a/packages/worker/src/jobs/sync.ts b/packages/worker/src/jobs/sync.ts
index 283eda8..bf515f4 100644
--- a/packages/worker/src/jobs/sync.ts
+++ b/packages/worker/src/jobs/sync.ts
@@ -4,7 +4,7 @@
  */
 
 import {
-  createUser,
+  registerUser,
   getUserById,
   getAllUsers,
   type CreateUserInput,
@@ -45,7 +45,7 @@ export async function syncJob(): Promise<void> {
     };
 
     try {
-      const newUser = createUser(input);
+      const newUser = registerUser(input);
       if (newUser.id) {
         synced++;
       }
diff --git a/tsconfig.json b/tsconfig.json
index ce9fcc6..589d949 100644
--- a/tsconfig.json
+++ b/tsconfig.json
@@ -1,8 +1,8 @@
 {
   "files": [],
   "references": [
+    { "path": "packages/core" },
     { "path": "packages/api" },
-    { "path": "packages/worker" },
-    { "path": "packages/core" }
+    { "path": "packages/worker" }
   ]
 }
